
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://dicelab-rhul.github.io/matbii/0.0.7/reference/avatar/">
      
      
        <link rel="prev" href="../agent/">
      
      
        <link rel="next" href="../config/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.30">
    
    
      
        <title>Avatar - matbii</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.3cba04c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#matbii.avatar" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="matbii" class="md-header__button md-logo" aria-label="matbii" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            matbii
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Avatar
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../getting_started/" class="md-tabs__link">
          
  
    
  
  Getting started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../advanced/" class="md-tabs__link">
          
  
    
  
  Advanced

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="../" class="md-tabs__link">
        
  
    
  
  Reference

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="matbii" class="md-nav__button md-logo" aria-label="matbii" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    matbii
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../getting_started/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/key-concepts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Key Concepts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../getting_started/experiments/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Experiments
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Experiments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/experiments/logging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/experiments/post-analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Post analysis
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../getting_started/devices/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Devices
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            Devices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/devices/mouse_keyboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mouse & keyboard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/devices/eye_tracking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eye tracking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/devices/window_ui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Window & UI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../advanced/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Advanced
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Advanced
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/custom_entry_points/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Entry Points
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/custom_tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Tasks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/custom_devices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom Devices
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agent
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Avatar
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Avatar
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#matbii.avatar" class="md-nav__link">
    <span class="md-ellipsis">
      avatar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.avatar.Avatar" class="md-nav__link">
    <span class="md-ellipsis">
      Avatar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Avatar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.Avatar.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.Avatar.on_gaze" class="md-nav__link">
    <span class="md-ellipsis">
      on_gaze
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.Avatar.render" class="md-nav__link">
    <span class="md-ellipsis">
      render
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarActuator" class="md-nav__link">
    <span class="md-ellipsis">
      AvatarActuator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AvatarActuator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarActuator.default" class="md-nav__link">
    <span class="md-ellipsis">
      default
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarActuator.render" class="md-nav__link">
    <span class="md-ellipsis">
      render
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarResourceManagementActuator" class="md-nav__link">
    <span class="md-ellipsis">
      AvatarResourceManagementActuator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AvatarResourceManagementActuator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarResourceManagementActuator.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarResourceManagementActuator.attempt_mouse_event" class="md-nav__link">
    <span class="md-ellipsis">
      attempt_mouse_event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarResourceManagementActuator.get_click_targets" class="md-nav__link">
    <span class="md-ellipsis">
      get_click_targets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarSystemMonitoringActuator" class="md-nav__link">
    <span class="md-ellipsis">
      AvatarSystemMonitoringActuator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AvatarSystemMonitoringActuator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarSystemMonitoringActuator.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarSystemMonitoringActuator.attempt_mouse_event" class="md-nav__link">
    <span class="md-ellipsis">
      attempt_mouse_event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarSystemMonitoringActuator.get_click_targets" class="md-nav__link">
    <span class="md-ellipsis">
      get_click_targets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarTrackingActuator" class="md-nav__link">
    <span class="md-ellipsis">
      AvatarTrackingActuator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AvatarTrackingActuator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarTrackingActuator.__attempt__" class="md-nav__link">
    <span class="md-ellipsis">
      __attempt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarTrackingActuator.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarTrackingActuator.attempt_key_event" class="md-nav__link">
    <span class="md-ellipsis">
      attempt_key_event
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.avatar.EyetrackerIOSensor" class="md-nav__link">
    <span class="md-ellipsis">
      EyetrackerIOSensor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EyetrackerIOSensor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.EyetrackerIOSensor.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.EyetrackerIOSensor.__transduce__" class="md-nav__link">
    <span class="md-ellipsis">
      __transduce__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.EyetrackerIOSensor.on_screen_size" class="md-nav__link">
    <span class="md-ellipsis">
      on_screen_size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.EyetrackerIOSensor.on_window_move" class="md-nav__link">
    <span class="md-ellipsis">
      on_window_move
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.EyetrackerIOSensor.on_window_resize" class="md-nav__link">
    <span class="md-ellipsis">
      on_window_resize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Config
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../environment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../guidance/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Guidance
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Guidance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guidance/agent_base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agent base
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guidance/agent_default/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agent default
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guidance/sensor_guidance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sensor guidance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guidance/sensor_resource_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sensor resource management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guidance/sensor_system_monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sensor system monitoring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guidance/sensor_tracking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sensor tracking
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../tasks/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Tasks
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            Tasks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_6_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../tasks/resource_management/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Resource management
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_6_1" id="__nav_4_6_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6_1">
            <span class="md-nav__icon md-icon"></span>
            Resource management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/resource_management/resource_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource management
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_6_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../tasks/system_monitoring/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    System monitoring
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_6_2" id="__nav_4_6_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6_2">
            <span class="md-nav__icon md-icon"></span>
            System monitoring
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/system_monitoring/system_monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System monitoring
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_6_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../tasks/tracking/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Tracking
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_6_3" id="__nav_4_6_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6_3">
            <span class="md-nav__icon md-icon"></span>
            Tracking
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/tracking/tracking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tracking
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#matbii.avatar" class="md-nav__link">
    <span class="md-ellipsis">
      avatar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.avatar.Avatar" class="md-nav__link">
    <span class="md-ellipsis">
      Avatar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Avatar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.Avatar.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.Avatar.on_gaze" class="md-nav__link">
    <span class="md-ellipsis">
      on_gaze
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.Avatar.render" class="md-nav__link">
    <span class="md-ellipsis">
      render
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarActuator" class="md-nav__link">
    <span class="md-ellipsis">
      AvatarActuator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AvatarActuator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarActuator.default" class="md-nav__link">
    <span class="md-ellipsis">
      default
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarActuator.render" class="md-nav__link">
    <span class="md-ellipsis">
      render
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarResourceManagementActuator" class="md-nav__link">
    <span class="md-ellipsis">
      AvatarResourceManagementActuator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AvatarResourceManagementActuator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarResourceManagementActuator.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarResourceManagementActuator.attempt_mouse_event" class="md-nav__link">
    <span class="md-ellipsis">
      attempt_mouse_event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarResourceManagementActuator.get_click_targets" class="md-nav__link">
    <span class="md-ellipsis">
      get_click_targets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarSystemMonitoringActuator" class="md-nav__link">
    <span class="md-ellipsis">
      AvatarSystemMonitoringActuator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AvatarSystemMonitoringActuator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarSystemMonitoringActuator.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarSystemMonitoringActuator.attempt_mouse_event" class="md-nav__link">
    <span class="md-ellipsis">
      attempt_mouse_event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarSystemMonitoringActuator.get_click_targets" class="md-nav__link">
    <span class="md-ellipsis">
      get_click_targets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarTrackingActuator" class="md-nav__link">
    <span class="md-ellipsis">
      AvatarTrackingActuator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AvatarTrackingActuator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarTrackingActuator.__attempt__" class="md-nav__link">
    <span class="md-ellipsis">
      __attempt__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarTrackingActuator.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.AvatarTrackingActuator.attempt_key_event" class="md-nav__link">
    <span class="md-ellipsis">
      attempt_key_event
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.avatar.EyetrackerIOSensor" class="md-nav__link">
    <span class="md-ellipsis">
      EyetrackerIOSensor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EyetrackerIOSensor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.EyetrackerIOSensor.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.EyetrackerIOSensor.__transduce__" class="md-nav__link">
    <span class="md-ellipsis">
      __transduce__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.EyetrackerIOSensor.on_screen_size" class="md-nav__link">
    <span class="md-ellipsis">
      on_screen_size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.EyetrackerIOSensor.on_window_move" class="md-nav__link">
    <span class="md-ellipsis">
      on_window_move
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.avatar.EyetrackerIOSensor.on_window_resize" class="md-nav__link">
    <span class="md-ellipsis">
      on_window_resize
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Avatar</h1>

<div class="doc doc-object doc-module">



<a id="matbii.avatar"></a>
    <div class="doc doc-contents first">

      <p>Package defining avatar related functionality.</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="matbii.avatar.Avatar" class="doc doc-heading">
            <code>Avatar</code>


<a href="#matbii.avatar.Avatar" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="star_ray_pygame.avatar.Avatar">Avatar</span></code></p>


      <p>A special type of <code>Agent</code> that will display a UI (<code>pygame</code> backend) to the user and capture various kinds of user input, including: mouse clicks, motion, key events, window events, and eyetracking events (if the required sensor is added, see <code>EyetrackingIOSensor</code>).</p>

              <details class="quote">
                <summary>Source code in <code>icua\agent\avatar.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Avatar</span><span class="p">(</span><span class="n">PygameAvatar</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A special type of `Agent` that will display a UI (`pygame` backend) to the user and capture various kinds of user input, including: mouse clicks, motion, key events, window events, and eyetracking events (if the required sensor is added, see `EyetrackingIOSensor`).&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">sensors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Sensor</span><span class="p">],</span>
        <span class="n">actuators</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Actuator</span><span class="p">],</span>
        <span class="n">window_config</span><span class="p">:</span> <span class="n">WindowConfiguration</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            sensors (list[Sensor]): list of initial sensors, this may include instances of `IOSensor` that will gather user input from devices (see e.g. `EyetrackingIOSensor`). Common user input events such as mouse, keyboard and window events are already handled by a io sensor that is added automatically.</span>
<span class="sd">            actuators (list[Actuator]): list of initial actuators, this should generally include an actuator that is capable of forwarding user input events (see e.g. `AvatarActuator`).</span>
<span class="sd">            window_config (WindowConfiguration, optional): UI window configuration. Defaults to None (see `star_ray_pygame.agent.PyGameAvatar` for details).</span>
<span class="sd">            kwargs (dict[str,Any]): additional optional keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">sensors</span><span class="p">,</span> <span class="n">actuators</span><span class="p">,</span> <span class="n">window_config</span><span class="o">=</span><span class="n">window_config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Renders the UI and triggers a `RenderEvent`.&quot;&quot;&quot;</span>
        <span class="c1"># this is for logging purposes, we can see when the rendering beings. if all agents are running locally (and synchronously), then we can assume that all preceeding events in the event log will be visible to the user! this is very useful for post-analysis in experiments.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attempt</span><span class="p">(</span><span class="n">RenderEvent</span><span class="p">())</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>

    <span class="nd">@observe</span>
    <span class="k">def</span> <span class="nf">on_gaze</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">EyeMotionEvent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Observe method for `EyeMotionEvents`, this will only be called if an `EyetrackingIOSensor` (or similar) is attached to this agent. It finalises the events by computing the svg coordinates (from window coordinates) and finding all svg elements that lie under this coordinate. It will attempt the event so that it is made avaliable (via an appropriate actuator) to other subscribing agents.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (EyeMotionEvent): the eye motion event.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># These events are generated by an EyetrackingIOSensor (if it exists).</span>
        <span class="c1"># The position is in pixel-coordinates, we need to transform to SVG coordinates</span>
        <span class="c1"># (similar to mouse events).</span>
        <span class="n">event</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view</span><span class="o">.</span><span class="n">pixel_to_svg</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">position_raw</span><span class="p">)</span>
        <span class="c1"># also find the elements that are under the gaze point</span>
        <span class="n">event</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view</span><span class="o">.</span><span class="n">elements_under</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">position</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="c1"># attempt the event, this will send it to other subscribing agents</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attempt</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.Avatar.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">sensors</span><span class="p">,</span> <span class="n">actuators</span><span class="p">,</span> <span class="n">window_config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#matbii.avatar.Avatar.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>sensors</code></td>
            <td>
                  <code>list[<span title="star_ray.Sensor">Sensor</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list of initial sensors, this may include instances of <code>IOSensor</code> that will gather user input from devices (see e.g. <code>EyetrackingIOSensor</code>). Common user input events such as mouse, keyboard and window events are already handled by a io sensor that is added automatically.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>actuators</code></td>
            <td>
                  <code>list[<span title="star_ray.Actuator">Actuator</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list of initial actuators, this should generally include an actuator that is capable of forwarding user input events (see e.g. <code>AvatarActuator</code>).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>window_config</code></td>
            <td>
                  <code><span title="star_ray_pygame.WindowConfiguration">WindowConfiguration</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>UI window configuration. Defaults to None (see <code>star_ray_pygame.agent.PyGameAvatar</code> for details).</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>kwargs</code></td>
            <td>
                  <code>dict[str, Any]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional optional keyword arguments.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>icua\agent\avatar.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">sensors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Sensor</span><span class="p">],</span>
    <span class="n">actuators</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Actuator</span><span class="p">],</span>
    <span class="n">window_config</span><span class="p">:</span> <span class="n">WindowConfiguration</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        sensors (list[Sensor]): list of initial sensors, this may include instances of `IOSensor` that will gather user input from devices (see e.g. `EyetrackingIOSensor`). Common user input events such as mouse, keyboard and window events are already handled by a io sensor that is added automatically.</span>
<span class="sd">        actuators (list[Actuator]): list of initial actuators, this should generally include an actuator that is capable of forwarding user input events (see e.g. `AvatarActuator`).</span>
<span class="sd">        window_config (WindowConfiguration, optional): UI window configuration. Defaults to None (see `star_ray_pygame.agent.PyGameAvatar` for details).</span>
<span class="sd">        kwargs (dict[str,Any]): additional optional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">sensors</span><span class="p">,</span> <span class="n">actuators</span><span class="p">,</span> <span class="n">window_config</span><span class="o">=</span><span class="n">window_config</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.Avatar.on_gaze" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">on_gaze</span><span class="p">(</span><span class="n">event</span><span class="p">)</span></code>

<a href="#matbii.avatar.Avatar.on_gaze" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Observe method for <code>EyeMotionEvents</code>, this will only be called if an <code>EyetrackingIOSensor</code> (or similar) is attached to this agent. It finalises the events by computing the svg coordinates (from window coordinates) and finding all svg elements that lie under this coordinate. It will attempt the event so that it is made avaliable (via an appropriate actuator) to other subscribing agents.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>event</code></td>
            <td>
                  <code><span title="icua.event.EyeMotionEvent">EyeMotionEvent</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the eye motion event.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>icua\agent\avatar.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@observe</span>
<span class="k">def</span> <span class="nf">on_gaze</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">EyeMotionEvent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Observe method for `EyeMotionEvents`, this will only be called if an `EyetrackingIOSensor` (or similar) is attached to this agent. It finalises the events by computing the svg coordinates (from window coordinates) and finding all svg elements that lie under this coordinate. It will attempt the event so that it is made avaliable (via an appropriate actuator) to other subscribing agents.</span>

<span class="sd">    Args:</span>
<span class="sd">        event (EyeMotionEvent): the eye motion event.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># These events are generated by an EyetrackingIOSensor (if it exists).</span>
    <span class="c1"># The position is in pixel-coordinates, we need to transform to SVG coordinates</span>
    <span class="c1"># (similar to mouse events).</span>
    <span class="n">event</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view</span><span class="o">.</span><span class="n">pixel_to_svg</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">position_raw</span><span class="p">)</span>
    <span class="c1"># also find the elements that are under the gaze point</span>
    <span class="n">event</span><span class="o">.</span><span class="n">target</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_view</span><span class="o">.</span><span class="n">elements_under</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">position</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="c1"># attempt the event, this will send it to other subscribing agents</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">attempt</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.Avatar.render" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">render</span><span class="p">()</span></code>

<a href="#matbii.avatar.Avatar.render" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Renders the UI and triggers a <code>RenderEvent</code>.</p>

            <details class="quote">
              <summary>Source code in <code>icua\agent\avatar.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Renders the UI and triggers a `RenderEvent`.&quot;&quot;&quot;</span>
    <span class="c1"># this is for logging purposes, we can see when the rendering beings. if all agents are running locally (and synchronously), then we can assume that all preceeding events in the event log will be visible to the user! this is very useful for post-analysis in experiments.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">attempt</span><span class="p">(</span><span class="n">RenderEvent</span><span class="p">())</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="matbii.avatar.AvatarActuator" class="doc doc-heading">
            <code>AvatarActuator</code>


<a href="#matbii.avatar.AvatarActuator" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="star_ray.agent.Actuator">Actuator</span></code></p>


      <p>This actuator will forward all user generated events to the environment. Other agents may subscribe to receive these events, otherwise they will simply be logged. It may also be used to produce <code>RenderEvent</code>s which should be taken at the START of the UI rendering step performed by the avatar.</p>

              <details class="quote">
                <summary>Source code in <code>icua\agent\actuator_avatar.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AvatarActuator</span><span class="p">(</span><span class="n">Actuator</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This actuator will forward all user generated events to the environment. Other agents may subscribe to receive these events, otherwise they will simply be logged. It may also be used to produce `RenderEvent`s which should be taken at the START of the UI rendering step performed by the avatar.&quot;&quot;&quot;</span>

    <span class="nd">@attempt</span>
    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">RenderEvent</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Attempt method that will attempt a `RenderEvent`.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">action</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">RenderEvent</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">action</span>

    <span class="nd">@attempt</span>
    <span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">UserInputEvent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Default attempt method for this actuator, will simply forward any of the received types to the environment. Typically it will recieve all types present in `UserInputEvent` (assuming that the actuator is attached to an `Avatar`.</span>

<span class="sd">        Args:</span>
<span class="sd">            action (UserInputEvent): user input event.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Event: the given `action`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">action</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.AvatarActuator.default" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">default</span><span class="p">(</span><span class="n">action</span><span class="p">)</span></code>

<a href="#matbii.avatar.AvatarActuator.default" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Default attempt method for this actuator, will simply forward any of the received types to the environment. Typically it will recieve all types present in <code>UserInputEvent</code> (assuming that the actuator is attached to an <code>Avatar</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>action</code></td>
            <td>
                  <code><span title="icua.event.UserInputEvent">UserInputEvent</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>user input event.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Event</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the given <code>action</code></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>icua\agent\actuator_avatar.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@attempt</span>
<span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">UserInputEvent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Default attempt method for this actuator, will simply forward any of the received types to the environment. Typically it will recieve all types present in `UserInputEvent` (assuming that the actuator is attached to an `Avatar`.</span>

<span class="sd">    Args:</span>
<span class="sd">        action (UserInputEvent): user input event.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Event: the given `action`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">action</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.AvatarActuator.render" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">render</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#matbii.avatar.AvatarActuator.render" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Attempt method that will attempt a <code>RenderEvent</code>.</p>

            <details class="quote">
              <summary>Source code in <code>icua\agent\actuator_avatar.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@attempt</span>
<span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">RenderEvent</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Attempt method that will attempt a `RenderEvent`.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">action</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">RenderEvent</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">action</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="matbii.avatar.AvatarResourceManagementActuator" class="doc doc-heading">
            <code>AvatarResourceManagementActuator</code>


<a href="#matbii.avatar.AvatarResourceManagementActuator" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="icua.agent.Actuator">Actuator</span></code></p>


      <p>Actuator class that should be added to the Avatar when the resource management task is enabled. It allows the user to control the pumps in this task..</p>

              <details class="quote">
                <summary>Source code in <code>matbii\tasks\resource_management\resource_management.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AvatarResourceManagementActuator</span><span class="p">(</span><span class="n">Actuator</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Actuator class that should be added to the Avatar when the resource management task is enabled. It allows the user to control the pumps in this task..&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            args (list[Any], optional): additional optional arguments.</span>
<span class="sd">            kwargs (dict[Any], optional): additional optional keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_pump_targets</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span>
            <span class="n">AvatarResourceManagementActuator</span><span class="o">.</span><span class="n">get_click_targets</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;pump-([a-z]+)-button&quot;</span>
        <span class="p">)</span>

    <span class="nd">@attempt</span>
    <span class="k">def</span> <span class="nf">attempt_mouse_event</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_action</span><span class="p">:</span> <span class="n">MouseButtonEvent</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;TogglePumpAction&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Attempt method that takes a `MouseButtonEvent` as input from the user. It is up to the avatar to provide this event to this actuator. The information is essential if the user is to control this task.</span>

<span class="sd">        This will attempt a `TogglePumpAction` depending on what svg element was clicked (assuming the mouse event registers as a click).</span>

<span class="sd">        Effects:</span>
<span class="sd">        - `TogglePumpAction`: toggle the pump on-&gt;off or off-&gt;on.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_action (MouseButtonEvent): the users mouse button action.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[TogglePumpAction]: the action to be attempted</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">user_action</span><span class="p">,</span> <span class="n">MouseButtonEvent</span><span class="p">)</span>
        <span class="c1"># always include the user action as it needs to be logged</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">user_action</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">MouseButtonEvent</span><span class="o">.</span><span class="n">DOWN</span>
            <span class="ow">and</span> <span class="n">user_action</span><span class="o">.</span><span class="n">button</span> <span class="o">==</span> <span class="n">MouseButtonEvent</span><span class="o">.</span><span class="n">BUTTON_LEFT</span>
        <span class="p">):</span>
            <span class="n">actions</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_pump_actions</span><span class="p">(</span><span class="n">user_action</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">actions</span>

    <span class="k">def</span> <span class="nf">_get_pump_actions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_action</span><span class="p">:</span> <span class="n">MouseButtonEvent</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;TogglePumpAction&quot;</span><span class="p">]:</span>
        <span class="n">targets</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_pump_targets</span><span class="p">(</span><span class="n">user_action</span><span class="o">.</span><span class="n">target</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">TogglePumpAction</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span> <span class="k">for</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">targets</span><span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_click_targets</span><span class="p">(</span><span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">targets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Extras the `id` field of a target in `targets` if it matches the pattern.</span>

<span class="sd">        Args:</span>
<span class="sd">            pattern (str): pattern to test.</span>
<span class="sd">            targets (list[str]): targets to search.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[str]: matching targets.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_get</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">targets</span><span class="p">:</span>
                <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                    <span class="n">target</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                    <span class="k">yield</span> <span class="n">target</span>

        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">_get</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.AvatarResourceManagementActuator.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#matbii.avatar.AvatarResourceManagementActuator.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>args</code></td>
            <td>
                  <code>list[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional optional arguments.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>kwargs</code></td>
            <td>
                  <code>dict[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional optional keyword arguments.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>matbii\tasks\resource_management\resource_management.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        args (list[Any], optional): additional optional arguments.</span>
<span class="sd">        kwargs (dict[Any], optional): additional optional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_get_pump_targets</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span>
        <span class="n">AvatarResourceManagementActuator</span><span class="o">.</span><span class="n">get_click_targets</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;pump-([a-z]+)-button&quot;</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.AvatarResourceManagementActuator.attempt_mouse_event" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">attempt_mouse_event</span><span class="p">(</span><span class="n">user_action</span><span class="p">)</span></code>

<a href="#matbii.avatar.AvatarResourceManagementActuator.attempt_mouse_event" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Attempt method that takes a <code>MouseButtonEvent</code> as input from the user. It is up to the avatar to provide this event to this actuator. The information is essential if the user is to control this task.</p>
<p>This will attempt a <code>TogglePumpAction</code> depending on what svg element was clicked (assuming the mouse event registers as a click).</p>
<p>Effects:
- <code>TogglePumpAction</code>: toggle the pump on-&gt;off or off-&gt;on.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>user_action</code></td>
            <td>
                  <code><span title="icua.event.MouseButtonEvent">MouseButtonEvent</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the users mouse button action.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[<a class="autorefs autorefs-internal" title="matbii.tasks.resource_management.resource_management.TogglePumpAction" href="../tasks/resource_management/resource_management/#matbii.tasks.resource_management.resource_management.TogglePumpAction">TogglePumpAction</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[TogglePumpAction]: the action to be attempted</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>matbii\tasks\resource_management\resource_management.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@attempt</span>
<span class="k">def</span> <span class="nf">attempt_mouse_event</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_action</span><span class="p">:</span> <span class="n">MouseButtonEvent</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;TogglePumpAction&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Attempt method that takes a `MouseButtonEvent` as input from the user. It is up to the avatar to provide this event to this actuator. The information is essential if the user is to control this task.</span>

<span class="sd">    This will attempt a `TogglePumpAction` depending on what svg element was clicked (assuming the mouse event registers as a click).</span>

<span class="sd">    Effects:</span>
<span class="sd">    - `TogglePumpAction`: toggle the pump on-&gt;off or off-&gt;on.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_action (MouseButtonEvent): the users mouse button action.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[TogglePumpAction]: the action to be attempted</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">user_action</span><span class="p">,</span> <span class="n">MouseButtonEvent</span><span class="p">)</span>
    <span class="c1"># always include the user action as it needs to be logged</span>
    <span class="n">actions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">user_action</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">MouseButtonEvent</span><span class="o">.</span><span class="n">DOWN</span>
        <span class="ow">and</span> <span class="n">user_action</span><span class="o">.</span><span class="n">button</span> <span class="o">==</span> <span class="n">MouseButtonEvent</span><span class="o">.</span><span class="n">BUTTON_LEFT</span>
    <span class="p">):</span>
        <span class="n">actions</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_pump_actions</span><span class="p">(</span><span class="n">user_action</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">actions</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.AvatarResourceManagementActuator.get_click_targets" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_click_targets</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">targets</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#matbii.avatar.AvatarResourceManagementActuator.get_click_targets" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Extras the <code>id</code> field of a target in <code>targets</code> if it matches the pattern.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>pattern</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pattern to test.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>targets</code></td>
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>targets to search.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[str]: matching targets.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>matbii\tasks\resource_management\resource_management.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_click_targets</span><span class="p">(</span><span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">targets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extras the `id` field of a target in `targets` if it matches the pattern.</span>

<span class="sd">    Args:</span>
<span class="sd">        pattern (str): pattern to test.</span>
<span class="sd">        targets (list[str]): targets to search.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[str]: matching targets.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_get</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">targets</span><span class="p">:</span>
            <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                <span class="n">target</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">yield</span> <span class="n">target</span>

    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">_get</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="matbii.avatar.AvatarSystemMonitoringActuator" class="doc doc-heading">
            <code>AvatarSystemMonitoringActuator</code>


<a href="#matbii.avatar.AvatarSystemMonitoringActuator" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="icua.agent.Actuator">Actuator</span></code></p>


      <p>Actuator class that should be added to the Avatar when the system monitoring task is enabled. It allows the user to control the lights and sliders in this task.</p>

              <details class="quote">
                <summary>Source code in <code>matbii\tasks\system_monitoring\system_monitoring.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AvatarSystemMonitoringActuator</span><span class="p">(</span><span class="n">Actuator</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Actuator class that should be added to the Avatar when the system monitoring task is enabled. It allows the user to control the lights and sliders in this task.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            args (list[Any], optional): additional optional arguments.</span>
<span class="sd">            kwargs (dict[Any], optional): additional optional keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_light_targets</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span>
            <span class="n">AvatarSystemMonitoringActuator</span><span class="o">.</span><span class="n">get_click_targets</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;light-(\d+)-button&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_get_slider_targets</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span>
            <span class="n">AvatarSystemMonitoringActuator</span><span class="o">.</span><span class="n">get_click_targets</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;slider-(\d+)-button&quot;</span>
        <span class="p">)</span>

    <span class="nd">@attempt</span>
    <span class="k">def</span> <span class="nf">attempt_mouse_event</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_action</span><span class="p">:</span> <span class="n">MouseButtonEvent</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="s2">&quot;SetLightAction&quot;</span><span class="p">,</span> <span class="s2">&quot;SetSliderAction&quot;</span><span class="p">]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Attempt method that takes a `MouseButtonEvent` as input from the user. It is up to the avatar to provide this event to this actuator. The information is essential if the user is to control this task.</span>

<span class="sd">        This will attempt either a `SetLightAction` or a `SetSliderAction` depending on what svg element was clicked (assuming the mouse event registers as a click).</span>

<span class="sd">        Effects:</span>
<span class="sd">        - `SetLightAction`: will always set the light to its preferred (acceptable) state.</span>
<span class="sd">        - `SetSliderAction` will reset the slider to its preferred (acceptable) state (which is the central position), see `ResetSliderAction`.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_action (MouseButtonEvent): the users mouse button action.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[SetLightAction | SetSliderAction]: the action to be attempted</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">user_action</span><span class="p">,</span> <span class="n">MouseButtonEvent</span><span class="p">)</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">user_action</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">MouseButtonEvent</span><span class="o">.</span><span class="n">DOWN</span>
            <span class="ow">and</span> <span class="n">user_action</span><span class="o">.</span><span class="n">button</span> <span class="o">==</span> <span class="n">MouseButtonEvent</span><span class="o">.</span><span class="n">BUTTON_LEFT</span>
        <span class="p">):</span>
            <span class="n">actions</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_light_actions</span><span class="p">(</span><span class="n">user_action</span><span class="p">))</span>
            <span class="n">actions</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_slider_actions</span><span class="p">(</span><span class="n">user_action</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">actions</span>

    <span class="k">def</span> <span class="nf">_get_light_actions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_action</span><span class="p">:</span> <span class="n">MouseButtonEvent</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;ToggleLightAction&quot;</span><span class="p">]:</span>
        <span class="n">targets</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_light_targets</span><span class="p">(</span><span class="n">user_action</span><span class="o">.</span><span class="n">target</span><span class="p">)]</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">ToggleLightAction</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span> <span class="k">for</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">targets</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">_get_slider_actions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">user_action</span><span class="p">:</span> <span class="n">MouseButtonEvent</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;SetSliderAction&quot;</span><span class="p">]:</span>
        <span class="n">targets</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_slider_targets</span><span class="p">(</span><span class="n">user_action</span><span class="o">.</span><span class="n">target</span><span class="p">)]</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">ResetSliderAction</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span> <span class="k">for</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">targets</span><span class="p">]</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">get_click_targets</span><span class="p">(</span><span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">targets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Extras the `id` field of a target in `targets` if it matches the pattern.</span>

<span class="sd">        Args:</span>
<span class="sd">            pattern (str): pattern to test.</span>
<span class="sd">            targets (list[str]): targets to search.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[str]: matching targets.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_get</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">targets</span><span class="p">:</span>
                <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                    <span class="n">target</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                    <span class="k">yield</span> <span class="n">target</span>

        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">_get</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.AvatarSystemMonitoringActuator.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#matbii.avatar.AvatarSystemMonitoringActuator.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>args</code></td>
            <td>
                  <code>list[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional optional arguments.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>kwargs</code></td>
            <td>
                  <code>dict[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional optional keyword arguments.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>matbii\tasks\system_monitoring\system_monitoring.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        args (list[Any], optional): additional optional arguments.</span>
<span class="sd">        kwargs (dict[Any], optional): additional optional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_get_light_targets</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span>
        <span class="n">AvatarSystemMonitoringActuator</span><span class="o">.</span><span class="n">get_click_targets</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;light-(\d+)-button&quot;</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_get_slider_targets</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span>
        <span class="n">AvatarSystemMonitoringActuator</span><span class="o">.</span><span class="n">get_click_targets</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;slider-(\d+)-button&quot;</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.AvatarSystemMonitoringActuator.attempt_mouse_event" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">attempt_mouse_event</span><span class="p">(</span><span class="n">user_action</span><span class="p">)</span></code>

<a href="#matbii.avatar.AvatarSystemMonitoringActuator.attempt_mouse_event" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Attempt method that takes a <code>MouseButtonEvent</code> as input from the user. It is up to the avatar to provide this event to this actuator. The information is essential if the user is to control this task.</p>
<p>This will attempt either a <code>SetLightAction</code> or a <code>SetSliderAction</code> depending on what svg element was clicked (assuming the mouse event registers as a click).</p>
<p>Effects:
- <code>SetLightAction</code>: will always set the light to its preferred (acceptable) state.
- <code>SetSliderAction</code> will reset the slider to its preferred (acceptable) state (which is the central position), see <code>ResetSliderAction</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>user_action</code></td>
            <td>
                  <code><span title="icua.event.MouseButtonEvent">MouseButtonEvent</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the users mouse button action.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[<span title="typing.Union">Union</span>[<a class="autorefs autorefs-internal" title="matbii.tasks.system_monitoring.system_monitoring.SetLightAction" href="../tasks/system_monitoring/system_monitoring/#matbii.tasks.system_monitoring.system_monitoring.SetLightAction">SetLightAction</a>, <a class="autorefs autorefs-internal" title="matbii.tasks.system_monitoring.system_monitoring.SetSliderAction" href="../tasks/system_monitoring/system_monitoring/#matbii.tasks.system_monitoring.system_monitoring.SetSliderAction">SetSliderAction</a>]]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[SetLightAction | SetSliderAction]: the action to be attempted</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>matbii\tasks\system_monitoring\system_monitoring.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@attempt</span>
<span class="k">def</span> <span class="nf">attempt_mouse_event</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">user_action</span><span class="p">:</span> <span class="n">MouseButtonEvent</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="s2">&quot;SetLightAction&quot;</span><span class="p">,</span> <span class="s2">&quot;SetSliderAction&quot;</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Attempt method that takes a `MouseButtonEvent` as input from the user. It is up to the avatar to provide this event to this actuator. The information is essential if the user is to control this task.</span>

<span class="sd">    This will attempt either a `SetLightAction` or a `SetSliderAction` depending on what svg element was clicked (assuming the mouse event registers as a click).</span>

<span class="sd">    Effects:</span>
<span class="sd">    - `SetLightAction`: will always set the light to its preferred (acceptable) state.</span>
<span class="sd">    - `SetSliderAction` will reset the slider to its preferred (acceptable) state (which is the central position), see `ResetSliderAction`.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_action (MouseButtonEvent): the users mouse button action.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[SetLightAction | SetSliderAction]: the action to be attempted</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">user_action</span><span class="p">,</span> <span class="n">MouseButtonEvent</span><span class="p">)</span>
    <span class="n">actions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">user_action</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">MouseButtonEvent</span><span class="o">.</span><span class="n">DOWN</span>
        <span class="ow">and</span> <span class="n">user_action</span><span class="o">.</span><span class="n">button</span> <span class="o">==</span> <span class="n">MouseButtonEvent</span><span class="o">.</span><span class="n">BUTTON_LEFT</span>
    <span class="p">):</span>
        <span class="n">actions</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_light_actions</span><span class="p">(</span><span class="n">user_action</span><span class="p">))</span>
        <span class="n">actions</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_slider_actions</span><span class="p">(</span><span class="n">user_action</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">actions</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.AvatarSystemMonitoringActuator.get_click_targets" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_click_targets</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">targets</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

<a href="#matbii.avatar.AvatarSystemMonitoringActuator.get_click_targets" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Extras the <code>id</code> field of a target in <code>targets</code> if it matches the pattern.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>pattern</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pattern to test.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>targets</code></td>
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>targets to search.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[str]: matching targets.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>matbii\tasks\system_monitoring\system_monitoring.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">get_click_targets</span><span class="p">(</span><span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">targets</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extras the `id` field of a target in `targets` if it matches the pattern.</span>

<span class="sd">    Args:</span>
<span class="sd">        pattern (str): pattern to test.</span>
<span class="sd">        targets (list[str]): targets to search.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[str]: matching targets.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_get</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">target</span> <span class="ow">in</span> <span class="n">targets</span><span class="p">:</span>
            <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">target</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">match</span><span class="p">:</span>
                <span class="n">target</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">yield</span> <span class="n">target</span>

    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">_get</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="matbii.avatar.AvatarTrackingActuator" class="doc doc-heading">
            <code>AvatarTrackingActuator</code>


<a href="#matbii.avatar.AvatarTrackingActuator" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="icua.agent.Actuator">Actuator</span></code></p>


      <p>Actuator class that should be added to the Avatar when the tracking task is enabled. It allows the user to control the "target" in this task.</p>

              <details class="quote">
                <summary>Source code in <code>matbii\tasks\tracking\tracking.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">AvatarTrackingActuator</span><span class="p">(</span><span class="n">Actuator</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Actuator class that should be added to the Avatar when the tracking task is enabled. It allows the user to control the &quot;target&quot; in this task.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">target_speed</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">5.0</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            target_speed (float): the speed of the target (svg units per second).</span>
<span class="sd">            args (list[Any], optional): additional optional arguments.</span>
<span class="sd">            kwargs (dict[Any], optional): additional optional keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_keys_pressed</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prev_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_target_speed</span> <span class="o">=</span> <span class="n">target_speed</span>

    <span class="k">def</span> <span class="nf">__attempt__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;TargetMoveAction&quot;</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Attempt method that will attempt a `TargetMoveAction` to move the target according to the users input (if it has been provided since the last call to this method).</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[TargetMoveAction]: the action</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">current_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="c1"># this will contain the user action (KeyEvent)</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_keys_pressed</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># compute speed based on time that has passed</span>
            <span class="n">dt</span> <span class="o">=</span> <span class="n">current_time</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_time</span>
            <span class="n">speed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_target_speed</span> <span class="o">*</span> <span class="n">dt</span>
            <span class="c1"># this will be normalised when the action is executed</span>
            <span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
            <span class="c1"># compute the movement action based on the currently pressed keys</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_keys_pressed</span><span class="p">:</span>
                <span class="n">direction</span> <span class="o">=</span> <span class="n">DIRECTION_MAP</span><span class="p">[</span><span class="n">DEFAULT_KEY_BINDING</span><span class="p">[</span><span class="n">key</span><span class="p">]]</span>
                <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="n">direction</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="n">direction</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">TargetMoveAction</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">result</span><span class="p">),</span> <span class="n">speed</span><span class="o">=</span><span class="n">speed</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_prev_time</span> <span class="o">=</span> <span class="n">current_time</span>
        <span class="k">return</span> <span class="n">actions</span>

    <span class="nd">@attempt</span>
    <span class="k">def</span> <span class="nf">attempt_key_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_action</span><span class="p">:</span> <span class="n">KeyEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Attempt method that takes a `KeyEvent` as input from the user. It is up to the avatar to provide this event to this actuator. The information is essential if the user is to control this task.</span>

<span class="sd">        Args:</span>
<span class="sd">            user_action (KeyEvent): the users keyboard action</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: an empty list (no action is taken by this attempt method, see `AvatarTrackingActuator.__attempt__`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">user_action</span><span class="o">.</span><span class="n">key</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">DEFAULT_KEY_BINDING</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">user_action</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">KeyEvent</span><span class="o">.</span><span class="n">UP</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_keys_pressed</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">user_action</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">user_action</span><span class="o">.</span><span class="n">status</span> <span class="ow">in</span> <span class="p">(</span><span class="n">KeyEvent</span><span class="o">.</span><span class="n">DOWN</span><span class="p">,</span> <span class="n">KeyEvent</span><span class="o">.</span><span class="n">HOLD</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_keys_pressed</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">user_action</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.AvatarTrackingActuator.__attempt__" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">__attempt__</span><span class="p">()</span></code>

<a href="#matbii.avatar.AvatarTrackingActuator.__attempt__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Attempt method that will attempt a <code>TargetMoveAction</code> to move the target according to the users input (if it has been provided since the last call to this method).</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[<a class="autorefs autorefs-internal" title="matbii.tasks.tracking.tracking.TargetMoveAction" href="../tasks/tracking/tracking/#matbii.tasks.tracking.tracking.TargetMoveAction">TargetMoveAction</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[TargetMoveAction]: the action</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>matbii\tasks\tracking\tracking.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__attempt__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="s2">&quot;TargetMoveAction&quot;</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Attempt method that will attempt a `TargetMoveAction` to move the target according to the users input (if it has been provided since the last call to this method).</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[TargetMoveAction]: the action</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">current_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="c1"># this will contain the user action (KeyEvent)</span>
    <span class="n">actions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_keys_pressed</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1"># compute speed based on time that has passed</span>
        <span class="n">dt</span> <span class="o">=</span> <span class="n">current_time</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prev_time</span>
        <span class="n">speed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_target_speed</span> <span class="o">*</span> <span class="n">dt</span>
        <span class="c1"># this will be normalised when the action is executed</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="c1"># compute the movement action based on the currently pressed keys</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_keys_pressed</span><span class="p">:</span>
            <span class="n">direction</span> <span class="o">=</span> <span class="n">DIRECTION_MAP</span><span class="p">[</span><span class="n">DEFAULT_KEY_BINDING</span><span class="p">[</span><span class="n">key</span><span class="p">]]</span>
            <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="n">direction</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="n">direction</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">TargetMoveAction</span><span class="p">(</span><span class="n">direction</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="n">result</span><span class="p">),</span> <span class="n">speed</span><span class="o">=</span><span class="n">speed</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_prev_time</span> <span class="o">=</span> <span class="n">current_time</span>
    <span class="k">return</span> <span class="n">actions</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.AvatarTrackingActuator.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">target_speed</span><span class="o">=</span><span class="mf">5.0</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#matbii.avatar.AvatarTrackingActuator.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>target_speed</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the speed of the target (svg units per second).</p>
              </div>
            </td>
            <td>
                  <code>5.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>args</code></td>
            <td>
                  <code>list[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional optional arguments.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>kwargs</code></td>
            <td>
                  <code>dict[<span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>additional optional keyword arguments.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>matbii\tasks\tracking\tracking.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">target_speed</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">5.0</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        target_speed (float): the speed of the target (svg units per second).</span>
<span class="sd">        args (list[Any], optional): additional optional arguments.</span>
<span class="sd">        kwargs (dict[Any], optional): additional optional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_keys_pressed</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_prev_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_target_speed</span> <span class="o">=</span> <span class="n">target_speed</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.AvatarTrackingActuator.attempt_key_event" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">attempt_key_event</span><span class="p">(</span><span class="n">user_action</span><span class="p">)</span></code>

<a href="#matbii.avatar.AvatarTrackingActuator.attempt_key_event" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Attempt method that takes a <code>KeyEvent</code> as input from the user. It is up to the avatar to provide this event to this actuator. The information is essential if the user is to control this task.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>user_action</code></td>
            <td>
                  <code><span title="icua.event.KeyEvent">KeyEvent</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the users keyboard action</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>list</code></td>            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>an empty list (no action is taken by this attempt method, see <code>AvatarTrackingActuator.__attempt__</code>.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>matbii\tasks\tracking\tracking.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@attempt</span>
<span class="k">def</span> <span class="nf">attempt_key_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_action</span><span class="p">:</span> <span class="n">KeyEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Attempt method that takes a `KeyEvent` as input from the user. It is up to the avatar to provide this event to this actuator. The information is essential if the user is to control this task.</span>

<span class="sd">    Args:</span>
<span class="sd">        user_action (KeyEvent): the users keyboard action</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: an empty list (no action is taken by this attempt method, see `AvatarTrackingActuator.__attempt__`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">user_action</span><span class="o">.</span><span class="n">key</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">DEFAULT_KEY_BINDING</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">user_action</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">KeyEvent</span><span class="o">.</span><span class="n">UP</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_keys_pressed</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">user_action</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">user_action</span><span class="o">.</span><span class="n">status</span> <span class="ow">in</span> <span class="p">(</span><span class="n">KeyEvent</span><span class="o">.</span><span class="n">DOWN</span><span class="p">,</span> <span class="n">KeyEvent</span><span class="o">.</span><span class="n">HOLD</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_keys_pressed</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">user_action</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="matbii.avatar.EyetrackerIOSensor" class="doc doc-heading">
            <code>EyetrackerIOSensor</code>


<a href="#matbii.avatar.EyetrackerIOSensor" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="star_ray.agent.IOSensor">IOSensor</span></code></p>


      <p>An <code>IOSensor</code> implementation that gathers observations <code>EyeMotionEvent</code> from an eyetracker.</p>

              <details class="quote">
                <summary>Source code in <code>icua\extras\eyetracking\sensor.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">EyetrackerIOSensor</span><span class="p">(</span><span class="n">IOSensor</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An `IOSensor` implementation that gathers observations `EyeMotionEvent` from an eyetracker.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">eyetracker</span><span class="p">:</span> <span class="n">EyetrackerBase</span><span class="p">,</span>
        <span class="n">velocity_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
        <span class="n">moving_average</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            eyetracker (EyetrackerBase): base eyetracker, this is the IO device of this `IOSensor`.</span>
<span class="sd">            velocity_threshold (float, optional): velocity threshold for the `IVTFilter`. Defaults to 0.1.</span>
<span class="sd">            moving_average (int, optional): moving average window size for the `NWMAFilter`. Defaults to 10.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">eyetracker</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ivt_filter</span> <span class="o">=</span> <span class="n">IVTFilter</span><span class="p">(</span><span class="n">velocity_threshold</span><span class="p">)</span>
        <span class="n">nan</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="s2">&quot;nan&quot;</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;nan&quot;</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ws_filter</span> <span class="o">=</span> <span class="n">WindowSpaceFilter</span><span class="p">(</span><span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ma_filter</span> <span class="o">=</span> <span class="n">NWMAFilter</span><span class="p">(</span><span class="n">moving_average</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__transduce__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">events</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">EyeMotionEventRaw</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">EyeMotionEvent</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Converts the list of raw eyetracking events to a list of eyetracking events by appling the filters that are part of this sensor.</span>

<span class="sd">        The filters are applied in order:</span>
<span class="sd">        - `NWMAFilter` - computes a moving average over points</span>
<span class="sd">        - `IVTFilter` - computes fixation/saccade based on velocity threshold.</span>
<span class="sd">        - `WindowSpaceFilter` - computes window UI space coordinates from screen space (requires screen &amp; window information, see methods: `EyetrackerIOSensor.on_window_move`, `EyetrackerIOSensor.on_window_resize`, `EyetrackerIOSensor.on_screen_size`).</span>

<span class="sd">        Args:</span>
<span class="sd">            events (list[EyeMotionEventRaw]): raw eyetracking events</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[EyeMotionEvent]: eyetracking events</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transduce_iter</span><span class="p">(</span><span class="n">events</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_transduce_iter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">events</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">EyeMotionEventRaw</span><span class="p">]):</span>  <span class="c1"># noqa</span>
        <span class="c1"># applies all filters to the each eye motion event</span>
        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">events</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span>
            <span class="k">for</span> <span class="nb">filter</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_ma_filter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ivt_filter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ws_filter</span><span class="p">]:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="nb">filter</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="c1"># NOTE: position needs to be set properly in the agent (i.e. convert to view space)</span>
            <span class="n">data</span><span class="p">[</span><span class="s2">&quot;position_raw&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;position&quot;</span><span class="p">]</span>
            <span class="k">yield</span> <span class="n">EyeMotionEvent</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

    <span class="nd">@attempt</span>
    <span class="k">def</span> <span class="nf">on_window_move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">WindowMoveEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Should be called when the UI window is moved. It is the responsibility of the attached agent to provide this information to this sensor. It is required to transform raw eyetracking coordinates to UI coordinates.</span>

<span class="sd">        If this sensor is attached to a `AgentRouted` this may be called automatically.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (WindowMoveEvent): event with information about the UI window position.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># print(&quot;WINDOW MOVE&quot;, event.position)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ws_filter</span><span class="o">.</span><span class="n">window_position</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">position</span>

    <span class="nd">@attempt</span>
    <span class="k">def</span> <span class="nf">on_window_resize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">WindowResizeEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Should be called when the UI window is resized. It is the responsibility of the attached agent to provide this information to this sensor. It is required to transform raw eyetracking coordinates to UI coordinates.</span>

<span class="sd">        If this sensor is attached to a `AgentRouted` this may be called automatically.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (WindowResizeEvent): event with information about the UI window size.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># print(&quot;WINDOW RESIZE!&quot;, event.size)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ws_filter</span><span class="o">.</span><span class="n">window_size</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">size</span>

    <span class="nd">@attempt</span>
    <span class="k">def</span> <span class="nf">on_screen_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">ScreenSizeEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Should be called when the screen/monitor size is discovered for the first time. It is the responsibility of the attached agent to provide this information to this sensor. It is required to transform raw eyetracking coordinates to UI coordinates.</span>

<span class="sd">        If this sensor is attached to a `AgentRouted` this may be called automatically.</span>

<span class="sd">        Args:</span>
<span class="sd">            event (ScreenSizeEvent): event with information about the screen/monitor size.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># print(&quot;SCREEN SIZE!&quot;, event.size)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ws_filter</span><span class="o">.</span><span class="n">screen_size</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">size</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.EyetrackerIOSensor.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">eyetracker</span><span class="p">,</span> <span class="n">velocity_threshold</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">moving_average</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

<a href="#matbii.avatar.EyetrackerIOSensor.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>eyetracker</code></td>
            <td>
                  <code><span title="icua.extras.eyetracking.eyetrackerbase.EyetrackerBase">EyetrackerBase</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>base eyetracker, this is the IO device of this <code>IOSensor</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>velocity_threshold</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>velocity threshold for the <code>IVTFilter</code>. Defaults to 0.1.</p>
              </div>
            </td>
            <td>
                  <code>0.1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>moving_average</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>moving average window size for the <code>NWMAFilter</code>. Defaults to 10.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>icua\extras\eyetracking\sensor.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">eyetracker</span><span class="p">:</span> <span class="n">EyetrackerBase</span><span class="p">,</span>
    <span class="n">velocity_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="n">moving_average</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        eyetracker (EyetrackerBase): base eyetracker, this is the IO device of this `IOSensor`.</span>
<span class="sd">        velocity_threshold (float, optional): velocity threshold for the `IVTFilter`. Defaults to 0.1.</span>
<span class="sd">        moving_average (int, optional): moving average window size for the `NWMAFilter`. Defaults to 10.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">eyetracker</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ivt_filter</span> <span class="o">=</span> <span class="n">IVTFilter</span><span class="p">(</span><span class="n">velocity_threshold</span><span class="p">)</span>
    <span class="n">nan</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="s2">&quot;nan&quot;</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;nan&quot;</span><span class="p">)])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ws_filter</span> <span class="o">=</span> <span class="n">WindowSpaceFilter</span><span class="p">(</span><span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">nan</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ma_filter</span> <span class="o">=</span> <span class="n">NWMAFilter</span><span class="p">(</span><span class="n">moving_average</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.EyetrackerIOSensor.__transduce__" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">__transduce__</span><span class="p">(</span><span class="n">events</span><span class="p">)</span></code>

<a href="#matbii.avatar.EyetrackerIOSensor.__transduce__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Converts the list of raw eyetracking events to a list of eyetracking events by appling the filters that are part of this sensor.</p>
<p>The filters are applied in order:
- <code>NWMAFilter</code> - computes a moving average over points
- <code>IVTFilter</code> - computes fixation/saccade based on velocity threshold.
- <code>WindowSpaceFilter</code> - computes window UI space coordinates from screen space (requires screen &amp; window information, see methods: <code>EyetrackerIOSensor.on_window_move</code>, <code>EyetrackerIOSensor.on_window_resize</code>, <code>EyetrackerIOSensor.on_screen_size</code>).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>events</code></td>
            <td>
                  <code>list[<span title="icua.extras.eyetracking.event.EyeMotionEventRaw">EyeMotionEventRaw</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>raw eyetracking events</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[<span title="icua.extras.eyetracking.event.EyeMotionEvent">EyeMotionEvent</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[EyeMotionEvent]: eyetracking events</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>icua\extras\eyetracking\sensor.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">__transduce__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">events</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">EyeMotionEventRaw</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">EyeMotionEvent</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Converts the list of raw eyetracking events to a list of eyetracking events by appling the filters that are part of this sensor.</span>

<span class="sd">    The filters are applied in order:</span>
<span class="sd">    - `NWMAFilter` - computes a moving average over points</span>
<span class="sd">    - `IVTFilter` - computes fixation/saccade based on velocity threshold.</span>
<span class="sd">    - `WindowSpaceFilter` - computes window UI space coordinates from screen space (requires screen &amp; window information, see methods: `EyetrackerIOSensor.on_window_move`, `EyetrackerIOSensor.on_window_resize`, `EyetrackerIOSensor.on_screen_size`).</span>

<span class="sd">    Args:</span>
<span class="sd">        events (list[EyeMotionEventRaw]): raw eyetracking events</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[EyeMotionEvent]: eyetracking events</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transduce_iter</span><span class="p">(</span><span class="n">events</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.EyetrackerIOSensor.on_screen_size" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">on_screen_size</span><span class="p">(</span><span class="n">event</span><span class="p">)</span></code>

<a href="#matbii.avatar.EyetrackerIOSensor.on_screen_size" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Should be called when the screen/monitor size is discovered for the first time. It is the responsibility of the attached agent to provide this information to this sensor. It is required to transform raw eyetracking coordinates to UI coordinates.</p>
<p>If this sensor is attached to a <code>AgentRouted</code> this may be called automatically.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>event</code></td>
            <td>
                  <code><span title="icua.event.ScreenSizeEvent">ScreenSizeEvent</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>event with information about the screen/monitor size.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>icua\extras\eyetracking\sensor.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@attempt</span>
<span class="k">def</span> <span class="nf">on_screen_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">ScreenSizeEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Should be called when the screen/monitor size is discovered for the first time. It is the responsibility of the attached agent to provide this information to this sensor. It is required to transform raw eyetracking coordinates to UI coordinates.</span>

<span class="sd">    If this sensor is attached to a `AgentRouted` this may be called automatically.</span>

<span class="sd">    Args:</span>
<span class="sd">        event (ScreenSizeEvent): event with information about the screen/monitor size.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># print(&quot;SCREEN SIZE!&quot;, event.size)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ws_filter</span><span class="o">.</span><span class="n">screen_size</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">size</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.EyetrackerIOSensor.on_window_move" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">on_window_move</span><span class="p">(</span><span class="n">event</span><span class="p">)</span></code>

<a href="#matbii.avatar.EyetrackerIOSensor.on_window_move" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Should be called when the UI window is moved. It is the responsibility of the attached agent to provide this information to this sensor. It is required to transform raw eyetracking coordinates to UI coordinates.</p>
<p>If this sensor is attached to a <code>AgentRouted</code> this may be called automatically.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>event</code></td>
            <td>
                  <code><span title="icua.event.WindowMoveEvent">WindowMoveEvent</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>event with information about the UI window position.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>icua\extras\eyetracking\sensor.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@attempt</span>
<span class="k">def</span> <span class="nf">on_window_move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">WindowMoveEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Should be called when the UI window is moved. It is the responsibility of the attached agent to provide this information to this sensor. It is required to transform raw eyetracking coordinates to UI coordinates.</span>

<span class="sd">    If this sensor is attached to a `AgentRouted` this may be called automatically.</span>

<span class="sd">    Args:</span>
<span class="sd">        event (WindowMoveEvent): event with information about the UI window position.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># print(&quot;WINDOW MOVE&quot;, event.position)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ws_filter</span><span class="o">.</span><span class="n">window_position</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">position</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.avatar.EyetrackerIOSensor.on_window_resize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">on_window_resize</span><span class="p">(</span><span class="n">event</span><span class="p">)</span></code>

<a href="#matbii.avatar.EyetrackerIOSensor.on_window_resize" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Should be called when the UI window is resized. It is the responsibility of the attached agent to provide this information to this sensor. It is required to transform raw eyetracking coordinates to UI coordinates.</p>
<p>If this sensor is attached to a <code>AgentRouted</code> this may be called automatically.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>event</code></td>
            <td>
                  <code><span title="icua.event.WindowResizeEvent">WindowResizeEvent</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>event with information about the UI window size.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>icua\extras\eyetracking\sensor.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@attempt</span>
<span class="k">def</span> <span class="nf">on_window_resize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">WindowResizeEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Should be called when the UI window is resized. It is the responsibility of the attached agent to provide this information to this sensor. It is required to transform raw eyetracking coordinates to UI coordinates.</span>

<span class="sd">    If this sensor is attached to a `AgentRouted` this may be called automatically.</span>

<span class="sd">    Args:</span>
<span class="sd">        event (WindowResizeEvent): event with information about the UI window size.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># print(&quot;WINDOW RESIZE!&quot;, event.size)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ws_filter</span><span class="o">.</span><span class="n">window_size</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="n">size</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../agent/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Agent">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Agent
              </div>
            </div>
          </a>
        
        
          
          <a href="../config/" class="md-footer__link md-footer__link--next" aria-label="Next: Config">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Config
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.footer", "navigation.expand", "navigation.tabs", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>