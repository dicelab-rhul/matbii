
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://dicelab-rhul.github.io/matbii/0.0.4/reference/guidance/agent_default/">
      
      
        <link rel="prev" href="../agent_base/">
      
      
        <link rel="next" href="../sensor_resource_management/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.30">
    
    
      
        <title>Agent default - matbii</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.3cba04c6.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#matbii.guidance.agent_default" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="matbii" class="md-header__button md-logo" aria-label="matbii" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            matbii
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Agent default
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../getting_started/" class="md-tabs__link">
          
  
    
  
  Getting started

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="../../" class="md-tabs__link">
        
  
    
  
  Reference

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="matbii" class="md-nav__button md-logo" aria-label="matbii" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    matbii
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../getting_started/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/experiments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Experiments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../getting_started/devices/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Devices
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Devices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/devices/mouse_keyboard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mouse & keyboard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/devices/eye_tracking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eye tracking
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/devices/window_ui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Window & UI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting_started/devices/advanced/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agent
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../avatar/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Avatar
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Config
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../environment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Guidance
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Guidance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agent_base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Agent base
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Agent default
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Agent default
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default" class="md-nav__link">
    <span class="md-ellipsis">
      agent_default
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.ArrowGuidanceActuator" class="md-nav__link">
    <span class="md-ellipsis">
      ArrowGuidanceActuator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ArrowGuidanceActuator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.is_arrow_mode_none" class="md-nav__link">
    <span class="md-ellipsis">
      is_arrow_mode_none
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.draw_guidance_arrow" class="md-nav__link">
    <span class="md-ellipsis">
      draw_guidance_arrow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.hide_guidance" class="md-nav__link">
    <span class="md-ellipsis">
      hide_guidance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.set_gaze_position" class="md-nav__link">
    <span class="md-ellipsis">
      set_gaze_position
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.set_mouse_motion" class="md-nav__link">
    <span class="md-ellipsis">
      set_mouse_motion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.show_guidance" class="md-nav__link">
    <span class="md-ellipsis">
      show_guidance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.BoxGuidanceActuator" class="md-nav__link">
    <span class="md-ellipsis">
      BoxGuidanceActuator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BoxGuidanceActuator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.BoxGuidanceActuator.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.BoxGuidanceActuator.draw_guidance_box_on_element" class="md-nav__link">
    <span class="md-ellipsis">
      draw_guidance_box_on_element
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.BoxGuidanceActuator.hide_guidance" class="md-nav__link">
    <span class="md-ellipsis">
      hide_guidance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.BoxGuidanceActuator.show_guidance" class="md-nav__link">
    <span class="md-ellipsis">
      show_guidance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.DefaultGuidanceAgent" class="md-nav__link">
    <span class="md-ellipsis">
      DefaultGuidanceAgent
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DefaultGuidanceAgent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.guidance_actuators" class="md-nav__link">
    <span class="md-ellipsis">
      guidance_actuators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.task_acceptability_sensors" class="md-nav__link">
    <span class="md-ellipsis">
      task_acceptability_sensors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.break_guidance_tie" class="md-nav__link">
    <span class="md-ellipsis">
      break_guidance_tie
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.hide_guidance" class="md-nav__link">
    <span class="md-ellipsis">
      hide_guidance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.show_guidance" class="md-nav__link">
    <span class="md-ellipsis">
      show_guidance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sensor_resource_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sensor resource management
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sensor_system_monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sensor system monitoring
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sensor_tracking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sensor tracking
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tasks/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Tasks
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Tasks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_6_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tasks/resource_management/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Resource management
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_6_1" id="__nav_3_6_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6_1">
            <span class="md-nav__icon md-icon"></span>
            Resource management
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/resource_management/resource_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource management
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_6_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tasks/system_monitoring/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    System monitoring
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_6_2" id="__nav_3_6_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6_2">
            <span class="md-nav__icon md-icon"></span>
            System monitoring
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/system_monitoring/system_monitoring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System monitoring
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_6_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tasks/tracking/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Tracking
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_6_3" id="__nav_3_6_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6_3">
            <span class="md-nav__icon md-icon"></span>
            Tracking
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tasks/tracking/tracking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tracking
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default" class="md-nav__link">
    <span class="md-ellipsis">
      agent_default
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.ArrowGuidanceActuator" class="md-nav__link">
    <span class="md-ellipsis">
      ArrowGuidanceActuator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ArrowGuidanceActuator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.is_arrow_mode_none" class="md-nav__link">
    <span class="md-ellipsis">
      is_arrow_mode_none
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.draw_guidance_arrow" class="md-nav__link">
    <span class="md-ellipsis">
      draw_guidance_arrow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.hide_guidance" class="md-nav__link">
    <span class="md-ellipsis">
      hide_guidance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.set_gaze_position" class="md-nav__link">
    <span class="md-ellipsis">
      set_gaze_position
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.set_mouse_motion" class="md-nav__link">
    <span class="md-ellipsis">
      set_mouse_motion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.show_guidance" class="md-nav__link">
    <span class="md-ellipsis">
      show_guidance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.BoxGuidanceActuator" class="md-nav__link">
    <span class="md-ellipsis">
      BoxGuidanceActuator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BoxGuidanceActuator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.BoxGuidanceActuator.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.BoxGuidanceActuator.draw_guidance_box_on_element" class="md-nav__link">
    <span class="md-ellipsis">
      draw_guidance_box_on_element
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.BoxGuidanceActuator.hide_guidance" class="md-nav__link">
    <span class="md-ellipsis">
      hide_guidance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.BoxGuidanceActuator.show_guidance" class="md-nav__link">
    <span class="md-ellipsis">
      show_guidance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.DefaultGuidanceAgent" class="md-nav__link">
    <span class="md-ellipsis">
      DefaultGuidanceAgent
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DefaultGuidanceAgent">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.guidance_actuators" class="md-nav__link">
    <span class="md-ellipsis">
      guidance_actuators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.task_acceptability_sensors" class="md-nav__link">
    <span class="md-ellipsis">
      task_acceptability_sensors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      __init__
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.break_guidance_tie" class="md-nav__link">
    <span class="md-ellipsis">
      break_guidance_tie
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.hide_guidance" class="md-nav__link">
    <span class="md-ellipsis">
      hide_guidance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.show_guidance" class="md-nav__link">
    <span class="md-ellipsis">
      show_guidance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Agent default</h1>

<div class="doc doc-object doc-module">



<a id="matbii.guidance.agent_default"></a>
    <div class="doc doc-contents first">

      <p>Module contains a default implementation for a guidance agent, see <code>DefaultGuidanceAgent</code> documentation for details.</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="matbii.guidance.agent_default.ArrowGuidanceActuator" class="doc doc-heading">
            <code>ArrowGuidanceActuator</code>


<a href="#matbii.guidance.agent_default.ArrowGuidanceActuator" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="icua.agent.actuator_guidance.GuidanceActuator">GuidanceActuator</span></code></p>


      <p>A concrete implementation of <code>GuidanceActuator</code> that implements a guidance arrow. The arrow is displayed at the users mouse (or gaze) position that points towards a given task element, typically this task will be one that is not in an acceptible state.</p>

              <details class="quote">
                <summary>Source code in <code>icua\agent\actuator_guidance.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ArrowGuidanceActuator</span><span class="p">(</span><span class="n">GuidanceActuator</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A concrete implementation of `GuidanceActuator` that implements a guidance arrow. The arrow is displayed at the users mouse (or gaze) position that points towards a given task element, typically this task will be one that is not in an acceptible state.&quot;&quot;&quot;</span>

    <span class="n">ARROW_MODES</span> <span class="o">=</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;gaze&quot;</span><span class="p">,</span> <span class="s2">&quot;mouse&quot;</span><span class="p">,</span> <span class="s2">&quot;fixed&quot;</span><span class="p">]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">arrow_mode</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;gaze&quot;</span><span class="p">,</span> <span class="s2">&quot;mouse&quot;</span><span class="p">,</span> <span class="s2">&quot;fixed&quot;</span><span class="p">],</span>
        <span class="n">arrow_scale</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
        <span class="n">arrow_fill_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span>
        <span class="n">arrow_stroke_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#ff0000&quot;</span><span class="p">,</span>
        <span class="n">arrow_stroke_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">4.0</span><span class="p">,</span>
        <span class="n">arrow_offset</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">80</span><span class="p">),</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            arrow_mode (Literal): modes for arrow display,</span>
<span class="sd">            arrow_scale (float, optional): _description_. Defaults to 1.0.</span>
<span class="sd">            arrow_fill_color (str, optional): _description_. Defaults to &quot;none&quot;.</span>
<span class="sd">            arrow_stroke_color (str, optional): _description_. Defaults to &quot;#ff0000&quot;.</span>
<span class="sd">            arrow_stroke_width (float, optional): _description_. Defaults to 4.0.</span>
<span class="sd">            arrow_offset (tuple[float, float], optional): _description_. Defaults to (80, 80).</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_mode</span> <span class="o">=</span> <span class="n">arrow_mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_scale</span> <span class="o">=</span> <span class="n">arrow_scale</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_fill_color</span> <span class="o">=</span> <span class="n">arrow_fill_color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_stroke_color</span> <span class="o">=</span> <span class="n">arrow_stroke_color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_stroke_width</span> <span class="o">=</span> <span class="n">arrow_stroke_width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_offset</span> <span class="o">=</span> <span class="n">arrow_offset</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ArrowGuidanceActuator</span><span class="o">.</span><span class="n">ARROW_MODES</span><span class="o">.</span><span class="n">__args__</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid argument: `arrow_mode` must be one of </span><span class="si">{</span><span class="n">ArrowGuidanceActuator</span><span class="o">.</span><span class="n">ARROW_MODES</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_arrow_id</span> <span class="o">=</span> <span class="s2">&quot;guidance_arrow&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gaze_position</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mouse_position</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__attempt__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># noqa</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_mode</span> <span class="o">==</span> <span class="s2">&quot;gaze&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_gaze_position</span><span class="p">:</span>  <span class="c1"># TODO check that this doesnt continuously hold...?</span>
                <span class="n">attrs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                    <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_guidance_arrow_id</span><span class="p">,</span>
                    <span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_gaze_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_offset</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                    <span class="n">y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_gaze_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_offset</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                    <span class="n">point_to</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">DrawArrowAction</span><span class="p">(</span><span class="n">xpath</span><span class="o">=</span><span class="s2">&quot;/svg:svg&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">attrs</span><span class="p">)]</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_mode</span> <span class="o">==</span> <span class="s2">&quot;mouse&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mouse_position</span><span class="p">:</span>
                <span class="n">attrs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
                    <span class="nb">id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_guidance_arrow_id</span><span class="p">,</span>
                    <span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_mouse_position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_offset</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                    <span class="n">y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_mouse_position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_offset</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                    <span class="n">point_to</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on</span><span class="p">,</span>
                <span class="p">)</span>
                <span class="k">return</span> <span class="p">[</span><span class="n">DrawArrowAction</span><span class="p">(</span><span class="n">xpath</span><span class="o">=</span><span class="s2">&quot;/svg:svg&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">attrs</span><span class="p">)]</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_mode</span> <span class="o">==</span> <span class="s2">&quot;fixed&quot;</span><span class="p">:</span>
            <span class="c1"># TODO where should it be? the center of the screen?</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;TODO&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid argument: `arrow_mode` must be one of </span><span class="si">{</span><span class="n">ArrowGuidanceActuator</span><span class="o">.</span><span class="n">ARROW_MODES</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_arrow_mode_none</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Whether the arrow guidance is enabled.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_mode</span> <span class="o">==</span> <span class="s2">&quot;none&quot;</span>

    <span class="nd">@attempt</span><span class="p">([</span><span class="n">EyeMotionEvent</span><span class="p">])</span>
    <span class="k">def</span> <span class="nf">set_gaze_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">EyeMotionEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the users current gaze position. This may be used as a position for arrow display.&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_gaze_position</span> <span class="o">=</span> <span class="n">action</span><span class="o">.</span><span class="n">position</span>

    <span class="nd">@attempt</span><span class="p">([</span><span class="n">MouseMotionEvent</span><span class="p">])</span>
    <span class="k">def</span> <span class="nf">set_mouse_motion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">MouseMotionEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the users current mouse position. This may be used as a position for arrow display.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mouse_position</span> <span class="o">=</span> <span class="n">action</span><span class="o">.</span><span class="n">position</span>

    <span class="k">def</span> <span class="nf">on_add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agent</span><span class="p">:</span> <span class="n">Agent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># noqa</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">on_add</span><span class="p">(</span><span class="n">agent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw_guidance_arrow</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_arrow_id</span><span class="p">,</span>
            <span class="mf">0.0</span><span class="p">,</span>
            <span class="mf">0.0</span><span class="p">,</span>
            <span class="n">fill</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_arrow_fill_color</span><span class="p">,</span>
            <span class="n">stroke_width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_arrow_stroke_width</span><span class="p">,</span>
            <span class="n">stroke_color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_arrow_stroke_color</span><span class="p">,</span>
            <span class="n">opacity</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">scale</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_arrow_scale</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agent</span><span class="p">:</span> <span class="n">Agent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># noqa</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">on_remove</span><span class="p">(</span><span class="n">agent</span><span class="p">)</span>
        <span class="c1"># TODO remove arrow element!</span>

    <span class="nd">@attempt</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">draw_guidance_arrow</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">y</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">scale</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
        <span class="n">rotation</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="n">fill</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span>
        <span class="n">opacity</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
        <span class="n">stroke_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#ff0000&quot;</span><span class="p">,</span>
        <span class="n">stroke_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DrawArrowAction</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Attempt method that takes an action to draw a guidance arrow.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str): id.</span>
<span class="sd">            x (float): x position.</span>
<span class="sd">            y (float): y position.</span>
<span class="sd">            scale (float, optional): scale. Defaults to 1.0.</span>
<span class="sd">            rotation (float, optional): rotation. Defaults to 0.0.</span>
<span class="sd">            fill (str, optional): fill color. Defaults to &quot;none&quot;.</span>
<span class="sd">            opacity (float, optional): opacity (0.0 means hidden). Defaults to 0.0.</span>
<span class="sd">            stroke_color (str, optional): color of the arrow border. Defaults to &quot;#ff0000&quot;.</span>
<span class="sd">            stroke_width (float, optional): thickness of the arrow border. Defaults to 2.0.</span>
<span class="sd">            kwargs : (dict[str,Any]): additional optional keyword arguments.</span>

<span class="sd">        Returns:</span>
<span class="sd">            DrawArrowAction: action</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">DrawArrowAction</span><span class="p">(</span>
            <span class="n">xpath</span><span class="o">=</span><span class="s2">&quot;/svg:svg&quot;</span><span class="p">,</span>
            <span class="n">data</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span>
                <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span>
                <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">,</span>
                <span class="n">rotation</span><span class="o">=</span><span class="n">rotation</span><span class="p">,</span>
                <span class="n">fill</span><span class="o">=</span><span class="n">fill</span><span class="p">,</span>
                <span class="n">opacity</span><span class="o">=</span><span class="n">opacity</span><span class="p">,</span>
                <span class="n">stroke</span><span class="o">=</span><span class="n">stroke_color</span><span class="p">,</span>
                <span class="n">stroke_width</span><span class="o">=</span><span class="n">stroke_width</span><span class="p">,</span>
                <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>

    <span class="nd">@attempt</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">show_guidance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Show guidance on the given task.</span>

<span class="sd">        Args:</span>
<span class="sd">            task (str): task to show guidance for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[Action]: guidance actions</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on</span> <span class="o">=</span> <span class="n">task</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">ShowGuidance</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="n">task</span><span class="p">),</span>
            <span class="n">ShowElementAction</span><span class="p">(</span><span class="n">xpath</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;//*[@id=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_guidance_arrow_id</span><span class="si">}</span><span class="s2">&#39;]&quot;</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">actions</span>

    <span class="nd">@attempt</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">hide_guidance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Hide guidance on the given task.</span>

<span class="sd">        Args:</span>
<span class="sd">            task (str): task to hide guidance for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[Action]: guidance actions</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">actions</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">HideGuidance</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="n">task</span><span class="p">),</span>
            <span class="n">HideElementAction</span><span class="p">(</span><span class="n">xpath</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;//*[@id=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_guidance_arrow_id</span><span class="si">}</span><span class="s2">&#39;]&quot;</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="n">actions</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="matbii.guidance.agent_default.ArrowGuidanceActuator.is_arrow_mode_none" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_arrow_mode_none</span><span class="p">:</span> <span class="nb">bool</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.is_arrow_mode_none" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Whether the arrow guidance is enabled.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><em>description</em></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
    </div>

</div>



<div class="doc doc-object doc-function">


<h3 id="matbii.guidance.agent_default.ArrowGuidanceActuator.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">arrow_mode</span><span class="p">,</span> <span class="n">arrow_scale</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">arrow_fill_color</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">arrow_stroke_color</span><span class="o">=</span><span class="s1">&#39;#ff0000&#39;</span><span class="p">,</span> <span class="n">arrow_stroke_width</span><span class="o">=</span><span class="mf">4.0</span><span class="p">,</span> <span class="n">arrow_offset</span><span class="o">=</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">80</span><span class="p">))</span></code>

<a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>arrow_mode</code></td>
            <td>
                  <code><span title="typing.Literal">Literal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>modes for arrow display,</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>arrow_scale</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><em>description</em>. Defaults to 1.0.</p>
              </div>
            </td>
            <td>
                  <code>1.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>arrow_fill_color</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><em>description</em>. Defaults to "none".</p>
              </div>
            </td>
            <td>
                  <code>&#39;none&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>arrow_stroke_color</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><em>description</em>. Defaults to "#ff0000".</p>
              </div>
            </td>
            <td>
                  <code>&#39;#ff0000&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>arrow_stroke_width</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><em>description</em>. Defaults to 4.0.</p>
              </div>
            </td>
            <td>
                  <code>4.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>arrow_offset</code></td>
            <td>
                  <code>tuple[float, float]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><em>description</em>. Defaults to (80, 80).</p>
              </div>
            </td>
            <td>
                  <code>(80, 80)</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p><em>description</em></p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>icua\agent\actuator_guidance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">arrow_mode</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;gaze&quot;</span><span class="p">,</span> <span class="s2">&quot;mouse&quot;</span><span class="p">,</span> <span class="s2">&quot;fixed&quot;</span><span class="p">],</span>
    <span class="n">arrow_scale</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">arrow_fill_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span>
    <span class="n">arrow_stroke_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#ff0000&quot;</span><span class="p">,</span>
    <span class="n">arrow_stroke_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">4.0</span><span class="p">,</span>
    <span class="n">arrow_offset</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">80</span><span class="p">),</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        arrow_mode (Literal): modes for arrow display,</span>
<span class="sd">        arrow_scale (float, optional): _description_. Defaults to 1.0.</span>
<span class="sd">        arrow_fill_color (str, optional): _description_. Defaults to &quot;none&quot;.</span>
<span class="sd">        arrow_stroke_color (str, optional): _description_. Defaults to &quot;#ff0000&quot;.</span>
<span class="sd">        arrow_stroke_width (float, optional): _description_. Defaults to 4.0.</span>
<span class="sd">        arrow_offset (tuple[float, float], optional): _description_. Defaults to (80, 80).</span>

<span class="sd">    Raises:</span>
<span class="sd">        ValueError: _description_</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_mode</span> <span class="o">=</span> <span class="n">arrow_mode</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_scale</span> <span class="o">=</span> <span class="n">arrow_scale</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_fill_color</span> <span class="o">=</span> <span class="n">arrow_fill_color</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_stroke_color</span> <span class="o">=</span> <span class="n">arrow_stroke_color</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_stroke_width</span> <span class="o">=</span> <span class="n">arrow_stroke_width</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_offset</span> <span class="o">=</span> <span class="n">arrow_offset</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_arrow_mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ArrowGuidanceActuator</span><span class="o">.</span><span class="n">ARROW_MODES</span><span class="o">.</span><span class="n">__args__</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid argument: `arrow_mode` must be one of </span><span class="si">{</span><span class="n">ArrowGuidanceActuator</span><span class="o">.</span><span class="n">ARROW_MODES</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_arrow_id</span> <span class="o">=</span> <span class="s2">&quot;guidance_arrow&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_gaze_position</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_mouse_position</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.guidance.agent_default.ArrowGuidanceActuator.draw_guidance_arrow" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">draw_guidance_arrow</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">stroke_color</span><span class="o">=</span><span class="s1">&#39;#ff0000&#39;</span><span class="p">,</span> <span class="n">stroke_width</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.draw_guidance_arrow" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Attempt method that takes an action to draw a guidance arrow.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>name</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>id.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>x</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>x position.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>y</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>y position.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>scale</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>scale. Defaults to 1.0.</p>
              </div>
            </td>
            <td>
                  <code>1.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>rotation</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>rotation. Defaults to 0.0.</p>
              </div>
            </td>
            <td>
                  <code>0.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>fill</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>fill color. Defaults to "none".</p>
              </div>
            </td>
            <td>
                  <code>&#39;none&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>opacity</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>opacity (0.0 means hidden). Defaults to 0.0.</p>
              </div>
            </td>
            <td>
                  <code>0.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>stroke_color</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>color of the arrow border. Defaults to "#ff0000".</p>
              </div>
            </td>
            <td>
                  <code>&#39;#ff0000&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>stroke_width</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>thickness of the arrow border. Defaults to 2.0.</p>
              </div>
            </td>
            <td>
                  <code>2.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>kwargs</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(dict[str,Any]): additional optional keyword arguments.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>DrawArrowAction</code></td>            <td>
                  <code><span title="icua.event.event_guidance.DrawArrowAction">DrawArrowAction</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>action</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>icua\agent\actuator_guidance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@attempt</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">draw_guidance_arrow</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">scale</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">rotation</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="n">fill</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span>
    <span class="n">opacity</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="n">stroke_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#ff0000&quot;</span><span class="p">,</span>
    <span class="n">stroke_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DrawArrowAction</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Attempt method that takes an action to draw a guidance arrow.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): id.</span>
<span class="sd">        x (float): x position.</span>
<span class="sd">        y (float): y position.</span>
<span class="sd">        scale (float, optional): scale. Defaults to 1.0.</span>
<span class="sd">        rotation (float, optional): rotation. Defaults to 0.0.</span>
<span class="sd">        fill (str, optional): fill color. Defaults to &quot;none&quot;.</span>
<span class="sd">        opacity (float, optional): opacity (0.0 means hidden). Defaults to 0.0.</span>
<span class="sd">        stroke_color (str, optional): color of the arrow border. Defaults to &quot;#ff0000&quot;.</span>
<span class="sd">        stroke_width (float, optional): thickness of the arrow border. Defaults to 2.0.</span>
<span class="sd">        kwargs : (dict[str,Any]): additional optional keyword arguments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DrawArrowAction: action</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">DrawArrowAction</span><span class="p">(</span>
        <span class="n">xpath</span><span class="o">=</span><span class="s2">&quot;/svg:svg&quot;</span><span class="p">,</span>
        <span class="n">data</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">x</span><span class="o">=</span><span class="n">x</span><span class="p">,</span>
            <span class="n">y</span><span class="o">=</span><span class="n">y</span><span class="p">,</span>
            <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">,</span>
            <span class="n">rotation</span><span class="o">=</span><span class="n">rotation</span><span class="p">,</span>
            <span class="n">fill</span><span class="o">=</span><span class="n">fill</span><span class="p">,</span>
            <span class="n">opacity</span><span class="o">=</span><span class="n">opacity</span><span class="p">,</span>
            <span class="n">stroke</span><span class="o">=</span><span class="n">stroke_color</span><span class="p">,</span>
            <span class="n">stroke_width</span><span class="o">=</span><span class="n">stroke_width</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.guidance.agent_default.ArrowGuidanceActuator.hide_guidance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">hide_guidance</span><span class="p">(</span><span class="n">task</span><span class="p">)</span></code>

<a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.hide_guidance" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Hide guidance on the given task.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>task</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>task to hide guidance for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[Action]: guidance actions</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>icua\agent\actuator_guidance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@attempt</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">hide_guidance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Hide guidance on the given task.</span>

<span class="sd">    Args:</span>
<span class="sd">        task (str): task to hide guidance for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[Action]: guidance actions</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">actions</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">HideGuidance</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="n">task</span><span class="p">),</span>
        <span class="n">HideElementAction</span><span class="p">(</span><span class="n">xpath</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;//*[@id=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_guidance_arrow_id</span><span class="si">}</span><span class="s2">&#39;]&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="k">return</span> <span class="n">actions</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.guidance.agent_default.ArrowGuidanceActuator.set_gaze_position" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_gaze_position</span><span class="p">(</span><span class="n">action</span><span class="p">)</span></code>

<a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.set_gaze_position" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Sets the users current gaze position. This may be used as a position for arrow display.</p>

            <details class="quote">
              <summary>Source code in <code>icua\agent\actuator_guidance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@attempt</span><span class="p">([</span><span class="n">EyeMotionEvent</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">set_gaze_position</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">EyeMotionEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the users current gaze position. This may be used as a position for arrow display.&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_gaze_position</span> <span class="o">=</span> <span class="n">action</span><span class="o">.</span><span class="n">position</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.guidance.agent_default.ArrowGuidanceActuator.set_mouse_motion" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_mouse_motion</span><span class="p">(</span><span class="n">action</span><span class="p">)</span></code>

<a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.set_mouse_motion" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Sets the users current mouse position. This may be used as a position for arrow display.</p>

            <details class="quote">
              <summary>Source code in <code>icua\agent\actuator_guidance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@attempt</span><span class="p">([</span><span class="n">MouseMotionEvent</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">set_mouse_motion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">action</span><span class="p">:</span> <span class="n">MouseMotionEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sets the users current mouse position. This may be used as a position for arrow display.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_mouse_position</span> <span class="o">=</span> <span class="n">action</span><span class="o">.</span><span class="n">position</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.guidance.agent_default.ArrowGuidanceActuator.show_guidance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">show_guidance</span><span class="p">(</span><span class="n">task</span><span class="p">)</span></code>

<a href="#matbii.guidance.agent_default.ArrowGuidanceActuator.show_guidance" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Show guidance on the given task.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>task</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>task to show guidance for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[Action]: guidance actions</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>icua\agent\actuator_guidance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@attempt</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">show_guidance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Show guidance on the given task.</span>

<span class="sd">    Args:</span>
<span class="sd">        task (str): task to show guidance for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[Action]: guidance actions</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on</span> <span class="o">=</span> <span class="n">task</span>
    <span class="n">actions</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">ShowGuidance</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="n">task</span><span class="p">),</span>
        <span class="n">ShowElementAction</span><span class="p">(</span><span class="n">xpath</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;//*[@id=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_guidance_arrow_id</span><span class="si">}</span><span class="s2">&#39;]&quot;</span><span class="p">),</span>
    <span class="p">]</span>
    <span class="k">return</span> <span class="n">actions</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="matbii.guidance.agent_default.BoxGuidanceActuator" class="doc doc-heading">
            <code>BoxGuidanceActuator</code>


<a href="#matbii.guidance.agent_default.BoxGuidanceActuator" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="icua.agent.actuator_guidance.GuidanceActuator">GuidanceActuator</span></code></p>


      <p>A concrete implementation of <code>GuidanceActuator</code> that implements box guidance. The box bounds a given task element serving to highlight it to the user, typically the task will be one that is not in an acceptible state.</p>

              <details class="quote">
                <summary>Source code in <code>icua\agent\actuator_guidance.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">BoxGuidanceActuator</span><span class="p">(</span><span class="n">GuidanceActuator</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A concrete implementation of `GuidanceActuator` that implements box guidance. The box bounds a given task element serving to highlight it to the user, typically the task will be one that is not in an acceptible state.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">box_stroke_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#ff0000&quot;</span><span class="p">,</span>
        <span class="n">box_stroke_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">4.0</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            box_stroke_color (str, optional): color of the box. Defaults to &quot;#ff0000&quot;.</span>
<span class="sd">            box_stroke_width (float, optional): width of the box outline. Defaults to 4.0.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_box_stroke_color</span> <span class="o">=</span> <span class="n">box_stroke_color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_box_stroke_width</span> <span class="o">=</span> <span class="n">box_stroke_width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_box_id_template</span> <span class="o">=</span> <span class="s2">&quot;guidance_box_</span><span class="si">%s</span><span class="s2">&quot;</span>
        <span class="c1"># ids of each of the guidance boxes that have been created TODO this should be removed when `on_remove` is called!</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_boxes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">on_remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">agent</span><span class="p">:</span> <span class="n">Agent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>  <span class="c1"># noqa</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">on_remove</span><span class="p">(</span><span class="n">agent</span><span class="p">)</span>  <span class="c1"># TODO remove all guidance boxes!</span>

    <span class="nd">@attempt</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">draw_guidance_box_on_element</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">element_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">box_data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DrawBoxOnElementAction</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Attempt method that will draw a box around a given element.</span>

<span class="sd">        Args:</span>
<span class="sd">            element_id (str): the `id` of the element.</span>
<span class="sd">            box_data (dict[str,Any]): data associated with the box.</span>

<span class="sd">        Returns:</span>
<span class="sd">            DrawBoxOnElementAction: action</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO explicit parameters for box data</span>
        <span class="n">box_data</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_box_id_template</span> <span class="o">%</span> <span class="n">element_id</span>
        <span class="k">return</span> <span class="n">DrawBoxOnElementAction</span><span class="p">(</span>
            <span class="n">xpath</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;//*[@id=&#39;</span><span class="si">{</span><span class="n">element_id</span><span class="si">}</span><span class="s2">&#39;]&quot;</span><span class="p">,</span> <span class="n">box_data</span><span class="o">=</span><span class="n">box_data</span>
        <span class="p">)</span>

    <span class="nd">@attempt</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">show_guidance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Action</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Show guidance on the given task.</span>

<span class="sd">        Args:</span>
<span class="sd">            task (str): task to show guidance for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[Action]: guidance actions</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on</span> <span class="o">=</span> <span class="n">task</span>
        <span class="n">guidance_box_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_box_id_template</span> <span class="o">%</span> <span class="n">task</span>

        <span class="n">actions</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">ShowGuidance</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="n">task</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">guidance_box_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_boxes</span><span class="p">:</span>
            <span class="c1"># first time! insert the guidance box</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_boxes</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">guidance_box_id</span><span class="p">)</span>
            <span class="n">box_data</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;stroke-width&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_box_stroke_width</span><span class="p">,</span>
                <span class="s2">&quot;stroke&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_box_stroke_color</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="c1"># draw the box but it is hidden (opacity=0)</span>
            <span class="n">actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">draw_guidance_box_on_element</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">**</span><span class="n">box_data</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="n">actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ShowElementAction</span><span class="p">(</span><span class="n">xpath</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;//*[@id=&#39;</span><span class="si">{</span><span class="n">guidance_box_id</span><span class="si">}</span><span class="s2">&#39;]&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">actions</span>

    <span class="nd">@attempt</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">hide_guidance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Hide guidance on the given task.</span>

<span class="sd">        Args:</span>
<span class="sd">            task (str): task to hide guidance for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[Action]: guidance actions</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">guidance_box_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_box_id_template</span> <span class="o">%</span> <span class="n">task</span>

        <span class="n">actions</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">ShowGuidance</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="n">task</span><span class="p">),</span>
        <span class="p">]</span>

        <span class="k">if</span> <span class="n">guidance_box_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_boxes</span><span class="p">:</span>
            <span class="c1"># first time! insert the guidance box</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_boxes</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">guidance_box_id</span><span class="p">)</span>
            <span class="n">box_data</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;stroke-width&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_box_stroke_width</span><span class="p">,</span>
                <span class="s2">&quot;stroke&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_box_stroke_color</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="c1"># draw the box but it is hidden (opacity=0)</span>
            <span class="n">actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">draw_guidance_box_on_element</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">**</span><span class="n">box_data</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="n">actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">HideElementAction</span><span class="p">(</span><span class="n">xpath</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;//*[@id=&#39;</span><span class="si">{</span><span class="n">guidance_box_id</span><span class="si">}</span><span class="s2">&#39;]&quot;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">actions</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="matbii.guidance.agent_default.BoxGuidanceActuator.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">box_stroke_color</span><span class="o">=</span><span class="s1">&#39;#ff0000&#39;</span><span class="p">,</span> <span class="n">box_stroke_width</span><span class="o">=</span><span class="mf">4.0</span><span class="p">)</span></code>

<a href="#matbii.guidance.agent_default.BoxGuidanceActuator.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>box_stroke_color</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>color of the box. Defaults to "#ff0000".</p>
              </div>
            </td>
            <td>
                  <code>&#39;#ff0000&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>box_stroke_width</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>width of the box outline. Defaults to 4.0.</p>
              </div>
            </td>
            <td>
                  <code>4.0</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>icua\agent\actuator_guidance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">box_stroke_color</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;#ff0000&quot;</span><span class="p">,</span>
    <span class="n">box_stroke_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">4.0</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        box_stroke_color (str, optional): color of the box. Defaults to &quot;#ff0000&quot;.</span>
<span class="sd">        box_stroke_width (float, optional): width of the box outline. Defaults to 4.0.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_box_stroke_color</span> <span class="o">=</span> <span class="n">box_stroke_color</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_box_stroke_width</span> <span class="o">=</span> <span class="n">box_stroke_width</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_box_id_template</span> <span class="o">=</span> <span class="s2">&quot;guidance_box_</span><span class="si">%s</span><span class="s2">&quot;</span>
    <span class="c1"># ids of each of the guidance boxes that have been created TODO this should be removed when `on_remove` is called!</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_boxes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.guidance.agent_default.BoxGuidanceActuator.draw_guidance_box_on_element" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">draw_guidance_box_on_element</span><span class="p">(</span><span class="n">element_id</span><span class="p">,</span> <span class="o">**</span><span class="n">box_data</span><span class="p">)</span></code>

<a href="#matbii.guidance.agent_default.BoxGuidanceActuator.draw_guidance_box_on_element" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Attempt method that will draw a box around a given element.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>element_id</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the <code>id</code> of the element.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>box_data</code></td>
            <td>
                  <code>dict[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>data associated with the box.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>DrawBoxOnElementAction</code></td>            <td>
                  <code><span title="icua.event.event_guidance.DrawBoxOnElementAction">DrawBoxOnElementAction</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>action</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>icua\agent\actuator_guidance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@attempt</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">draw_guidance_box_on_element</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">element_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">box_data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DrawBoxOnElementAction</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Attempt method that will draw a box around a given element.</span>

<span class="sd">    Args:</span>
<span class="sd">        element_id (str): the `id` of the element.</span>
<span class="sd">        box_data (dict[str,Any]): data associated with the box.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DrawBoxOnElementAction: action</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO explicit parameters for box data</span>
    <span class="n">box_data</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_box_id_template</span> <span class="o">%</span> <span class="n">element_id</span>
    <span class="k">return</span> <span class="n">DrawBoxOnElementAction</span><span class="p">(</span>
        <span class="n">xpath</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;//*[@id=&#39;</span><span class="si">{</span><span class="n">element_id</span><span class="si">}</span><span class="s2">&#39;]&quot;</span><span class="p">,</span> <span class="n">box_data</span><span class="o">=</span><span class="n">box_data</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.guidance.agent_default.BoxGuidanceActuator.hide_guidance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">hide_guidance</span><span class="p">(</span><span class="n">task</span><span class="p">)</span></code>

<a href="#matbii.guidance.agent_default.BoxGuidanceActuator.hide_guidance" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Hide guidance on the given task.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>task</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>task to hide guidance for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[Action]: guidance actions</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>icua\agent\actuator_guidance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@attempt</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">hide_guidance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Hide guidance on the given task.</span>

<span class="sd">    Args:</span>
<span class="sd">        task (str): task to hide guidance for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[Action]: guidance actions</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">guidance_box_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_box_id_template</span> <span class="o">%</span> <span class="n">task</span>

    <span class="n">actions</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">ShowGuidance</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="n">task</span><span class="p">),</span>
    <span class="p">]</span>

    <span class="k">if</span> <span class="n">guidance_box_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_boxes</span><span class="p">:</span>
        <span class="c1"># first time! insert the guidance box</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_boxes</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">guidance_box_id</span><span class="p">)</span>
        <span class="n">box_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;stroke-width&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_box_stroke_width</span><span class="p">,</span>
            <span class="s2">&quot;stroke&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_box_stroke_color</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="c1"># draw the box but it is hidden (opacity=0)</span>
        <span class="n">actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">draw_guidance_box_on_element</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">**</span><span class="n">box_data</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="n">actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">HideElementAction</span><span class="p">(</span><span class="n">xpath</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;//*[@id=&#39;</span><span class="si">{</span><span class="n">guidance_box_id</span><span class="si">}</span><span class="s2">&#39;]&quot;</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">actions</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.guidance.agent_default.BoxGuidanceActuator.show_guidance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">show_guidance</span><span class="p">(</span><span class="n">task</span><span class="p">)</span></code>

<a href="#matbii.guidance.agent_default.BoxGuidanceActuator.show_guidance" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Show guidance on the given task.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>task</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>task to show guidance for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[<span title="star_ray.event.Action">Action</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[Action]: guidance actions</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>icua\agent\actuator_guidance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@attempt</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">show_guidance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Action</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Show guidance on the given task.</span>

<span class="sd">    Args:</span>
<span class="sd">        task (str): task to show guidance for.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[Action]: guidance actions</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on</span> <span class="o">=</span> <span class="n">task</span>
    <span class="n">guidance_box_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_box_id_template</span> <span class="o">%</span> <span class="n">task</span>

    <span class="n">actions</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">ShowGuidance</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="n">task</span><span class="p">),</span>
    <span class="p">]</span>

    <span class="k">if</span> <span class="n">guidance_box_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_boxes</span><span class="p">:</span>
        <span class="c1"># first time! insert the guidance box</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_boxes</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">guidance_box_id</span><span class="p">)</span>
        <span class="n">box_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;stroke-width&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_box_stroke_width</span><span class="p">,</span>
            <span class="s2">&quot;stroke&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_box_stroke_color</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="c1"># draw the box but it is hidden (opacity=0)</span>
        <span class="n">actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">draw_guidance_box_on_element</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">**</span><span class="n">box_data</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="n">actions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ShowElementAction</span><span class="p">(</span><span class="n">xpath</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;//*[@id=&#39;</span><span class="si">{</span><span class="n">guidance_box_id</span><span class="si">}</span><span class="s2">&#39;]&quot;</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">actions</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="matbii.guidance.agent_default.DefaultGuidanceAgent" class="doc doc-heading">
            <code>DefaultGuidanceAgent</code>


<a href="#matbii.guidance.agent_default.DefaultGuidanceAgent" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="matbii.guidance.agent_base.GuidanceAgent" href="../agent_base/#matbii.guidance.agent_base.GuidanceAgent">GuidanceAgent</a></code></p>


      <p>Default implementation of a guidance agent for the matbii system.</p>
<p>TODO.</p>

              <details class="quote">
                <summary>Source code in <code>matbii\guidance\agent_default.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DefaultGuidanceAgent</span><span class="p">(</span><span class="n">GuidanceAgent</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Default implementation of a guidance agent for the matbii system.</span>

<span class="sd">    TODO.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># used to break ties when multiple tasks could be highlighted. See `break_guidance_tie` method below.</span>
    <span class="n">BREAK_TIES</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;random&quot;</span><span class="p">,</span> <span class="s2">&quot;longest&quot;</span><span class="p">,</span> <span class="s2">&quot;since&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">sensors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Sensor</span><span class="p">],</span>
        <span class="n">actuators</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Actuator</span><span class="p">],</span>
        <span class="n">break_ties</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;random&quot;</span><span class="p">,</span> <span class="s2">&quot;longest&quot;</span><span class="p">,</span> <span class="s2">&quot;since&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;random&quot;</span><span class="p">,</span>
        <span class="n">grace_period</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">3.0</span><span class="p">,</span>
        <span class="n">counter_factual</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span>

<span class="sd">        Args:</span>
<span class="sd">            sensors (list[Sensor]): list of sensors, this will typically be a list of `icua.agent.TaskAcceptabilitySensor`s. A `UserInputSensor` will always be added automatically.</span>
<span class="sd">            actuators (list[Actuator]): list of actuators, this will typically contain actuators that are capable of providing visual feedback to a user, see e.g. `icua.agent.GuidanceActuator` and its concrete implementations.</span>
<span class="sd">            break_ties (Literal[&quot;random&quot;, &quot;longest&quot;, &quot;since&quot;], optional): how to break ties if guidance may be shown on multiple tasks simultaneously. Defaults to &quot;random&quot;. &quot;random&quot; will randomly break the tie, &quot;longest&quot; will choose the task that has been in failure for the longest, &quot;since&quot; will choose the task that has not had guidance shown for the longest.</span>
<span class="sd">            grace_period (float, optional): the time to wait (seconds) before guidance may be shown for a task after the last time guidance was shown on the task. Defaults to 3.0.</span>
<span class="sd">            counter_factual (bool, optional): whether guidance should be shown to the user, or whether it should just be logged.  This allows counter-factual experiments to be run, we can track when guidance would have been shown, and compare the when it was actually shown (in a different run). Defaults to False.</span>
<span class="sd">            kwargs (dict[str,Any]): Additional optional keyword arguments.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">sensors</span><span class="p">,</span> <span class="n">actuators</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="c1"># this agent is tracking the following tasks (based on the provided sensors)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_tracking_tasks</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">task_name</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_acceptability_sensors</span><span class="p">]</span>
        <span class="c1"># time since tasks went into an unacceptable state</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_task_unacceptable_start</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># time since tasks become inactive</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_task_inactive_start</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># TODO track the time since user input (gaze) has been provided, we can trigger an error if this is too long</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_missing_gaze_since</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># guidance shown on task?</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on_task</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># time since guidance was shown for each task (for grace period)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_last</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="c1"># method to use to break ties when more than one task meets the guidance criteria</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_break_ties</span> <span class="o">=</span> <span class="n">break_ties</span>  <span class="c1"># (&quot;random&quot;, &quot;longest&quot;, &quot;since&quot;)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_break_ties</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;random&quot;</span><span class="p">,</span> <span class="s2">&quot;longest&quot;</span><span class="p">,</span> <span class="s2">&quot;since&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid argument: `break_ties` </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_break_ties</span><span class="si">}</span><span class="s2"> must be one of </span><span class="si">{</span><span class="n">DefaultGuidanceAgent</span><span class="o">.</span><span class="n">BREAK_TIES</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
        <span class="c1"># time to wait before showing guidance again on a task (can be zero)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_grace_period</span> <span class="o">=</span> <span class="n">grace_period</span>  <span class="c1"># TODO</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grace_period</span> <span class="o">&lt;</span> <span class="mf">0.0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Invalid argument: `grace_period` </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_grace_period</span><span class="si">}</span><span class="s2"> must be &gt; 0 &quot;</span>
            <span class="p">)</span>
        <span class="c1"># whether to actually display guidance, or just trigger a guidance event</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_counter_factual</span> <span class="o">=</span> <span class="n">counter_factual</span>  <span class="c1"># TODO</span>

    <span class="k">def</span> <span class="nf">__initialise__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="n">State</span><span class="p">):</span>  <span class="c1"># noqa</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__initialise__</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
        <span class="c1"># initialise task unacceptability and inactivity</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>  <span class="c1"># not accurate but good enough</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_task_inactive_start</span> <span class="o">=</span> <span class="p">{</span><span class="n">t</span><span class="p">:</span> <span class="n">start_time</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tracking_tasks</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_task_unacceptable_start</span> <span class="o">=</span> <span class="p">{</span><span class="n">t</span><span class="p">:</span> <span class="n">start_time</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tracking_tasks</span><span class="p">}</span>
        <span class="c1"># initialise time to last guidance shown</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_last</span> <span class="o">=</span> <span class="p">{</span><span class="n">t</span><span class="p">:</span> <span class="n">start_time</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_tracking_tasks</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">show_guidance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Show guidance for a given task.</span>

<span class="sd">        If overriding you must call super() to ensure consistent behaviour.</span>

<span class="sd">        Args:</span>
<span class="sd">            task (str): the task to show guidance for.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on_task</span> <span class="o">=</span> <span class="n">task</span>
        <span class="k">for</span> <span class="n">actuator</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">guidance_actuators</span><span class="p">:</span>
            <span class="n">actuator</span><span class="o">.</span><span class="n">show_guidance</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="n">task</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">hide_guidance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Hide guidance for a given task.</span>

<span class="sd">        If overriding you must call super() to ensure consistent behaviour.</span>

<span class="sd">        Args:</span>
<span class="sd">            task (str): the task to hide guidance for.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO trigger event here! this will be used in post analysis, ensure that counterfactual guidance is also a thing!</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on_task</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">actuator</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">guidance_actuators</span><span class="p">:</span>
            <span class="n">actuator</span><span class="o">.</span><span class="n">hide_guidance</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="n">task</span><span class="p">)</span>
        <span class="c1"># update the last time guidance was shown for the given task (for the grace period check)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_last</span><span class="p">[</span><span class="n">task</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">__cycle__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># noqa</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">__cycle__</span><span class="p">()</span>
        <span class="n">gaze_elements</span><span class="p">,</span> <span class="n">gaze</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_at_elements</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">mouse_position</span>
        <span class="n">gaze_elements</span><span class="p">,</span> <span class="n">gaze</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">gaze_at_elements</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">gaze_position</span>
        <span class="c1"># TODO gaze_elements can be none? hmm</span>
        <span class="k">if</span> <span class="n">gaze</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">pass</span>  <span class="c1"># might be an issue with the eyetracker... or it may be loading up</span>

        <span class="c1"># # TODO an option for this (its a timeout)</span>
        <span class="c1"># if self._missing_gaze_since &gt; 1:</span>
        <span class="c1">#     raise ValueError(</span>
        <span class="c1">#         &quot;Guidance agent has not recieved gaze input for more than 1 second.&quot;)</span>

        <span class="c1"># gaze_elements, gaze = self.gaze_at_elements, self.gaze_position</span>
        <span class="c1"># this is the last gaze timestamp, it should be relatively close to NOW, otherwise the eyetracker may not be functioning</span>
        <span class="c1"># gaze_timestamp = gaze[&#39;timestamp&#39;]  # TODO check this...</span>

        <span class="c1"># =================================================== #</span>
        <span class="c1"># here the agent is deciding whether to show guidance</span>
        <span class="c1"># it uses the same rules as icua version 1 (TODO grace period)</span>
        <span class="c1"># =================================================== #</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on_task</span><span class="p">:</span>
            <span class="c1"># guidance is active, should it be?</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_task_acceptable</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on_task</span><span class="p">]:</span>
                <span class="c1"># the task is now acceptable - hide guidance for this task</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">hide_guidance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on_task</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on_task</span> <span class="ow">in</span> <span class="n">gaze_elements</span><span class="p">:</span>
                <span class="c1"># turn off guidance, the user is looking at the task - hide guidance</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">hide_guidance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on_task</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># the user is not looking at the task and its unacceptable, keep guidance on.</span>
                <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">current_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
            <span class="c1"># guidance is not active, should it be?</span>
            <span class="n">unacceptable</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_is_task_acceptable</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
            <span class="c1"># is the task in an unacceptable state? (remove if they are acceptable)</span>
            <span class="n">unacceptable</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">unacceptable</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
            <span class="c1"># is the user looking at the task? (remove if they are)</span>
            <span class="n">unacceptable</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">unacceptable</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">gaze_elements</span><span class="p">]</span>
            <span class="c1"># is the grace period over for the task?</span>
            <span class="n">unacceptable</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">x</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">unacceptable</span>
                <span class="k">if</span> <span class="n">current_time</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_last</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grace_period</span>
            <span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">unacceptable</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="c1"># there are tasks in failure, decide which one to highlight</span>
                <span class="c1"># break ties randomly - this could be more interesting!</span>
                <span class="n">task</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">break_guidance_tie</span><span class="p">(</span><span class="n">unacceptable</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_break_ties</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">show_guidance</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>  <span class="c1"># show guidance on the chosen task</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">pass</span>  <span class="c1"># no task is in failure, no guidance should be shown.</span>

    <span class="k">def</span> <span class="nf">break_guidance_tie</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">tasks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">method</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;random&quot;</span><span class="p">,</span> <span class="s2">&quot;longest&quot;</span><span class="p">,</span> <span class="s2">&quot;since&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;random&quot;</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Break a tie on tasks that all met the criteria for displaying guiance.</span>

<span class="sd">        Args:</span>
<span class="sd">            tasks (list[str]): tasks to break the tie, one of which will be returned.</span>
<span class="sd">            method (Literal[&quot;random&quot;, &quot;longest&quot;, &quot;since&quot;], optional): how to break ties if guidance may be shown on multiple tasks simultaneously. Defaults to &quot;random&quot;. &quot;random&quot; will randomly break the tie, &quot;longest&quot; will choose the task that has been in failure for the longest, &quot;since&quot; will choose the task that has not had guidance shown for the longest.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: the chosen task.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">tasks</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;random&quot;</span><span class="p">:</span>
            <span class="c1"># randomly break the tie</span>
            <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">tasks</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;longest&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">max</span><span class="p">(</span>
                <span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_task_unacceptable_start</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">tasks</span><span class="p">],</span>
                <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="c1"># choose the one longest in failure</span>
        <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;since&quot;</span><span class="p">:</span>
            <span class="c1"># choose the one with with the longest time since guidance was last shown</span>
            <span class="k">return</span> <span class="nb">max</span><span class="p">(</span>
                <span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_last</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">tasks</span><span class="p">],</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unknown guidance tie break method: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_break_ties</span><span class="si">}</span><span class="s2">, must be one of </span><span class="si">{</span><span class="n">DefaultGuidanceAgent</span><span class="o">.</span><span class="n">BREAK_TIES</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_acceptable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>  <span class="c1"># noqa</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log_acceptebility</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="s2">&quot;acceptable&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_active</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>  <span class="c1"># noqa</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log_acceptebility</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="s2">&quot;active&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_unacceptable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>  <span class="c1"># noqa</span>
        <span class="c1"># NOTE: this time is not the exact time that the task went into failure.</span>
        <span class="c1"># for this we would need to track the exact events that caused the failure, this is easier said than done...</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_task_unacceptable_start</span><span class="p">[</span><span class="n">task</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log_acceptebility</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="s2">&quot;acceptable&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_inactive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>  <span class="c1"># noqa</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log_acceptebility</span><span class="p">(</span><span class="n">task</span><span class="p">,</span> <span class="s2">&quot;active&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_task_inactive_start</span><span class="p">[</span><span class="n">task</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="nd">@observe</span><span class="p">([</span><span class="n">EyeMotionEvent</span><span class="p">,</span> <span class="n">MouseMotionEvent</span><span class="p">])</span>
    <span class="k">def</span> <span class="nf">_on_motion_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">MouseMotionEvent</span> <span class="o">|</span> <span class="n">EyeMotionEvent</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;It may be useful to the actuators to get these events.&quot;&quot;&quot;</span>
        <span class="c1"># TODO we may need to guard against actuators executing these actions...?</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">attempt</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>  <span class="c1"># manually attempt the event</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">task_acceptability_sensors</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">TaskAcceptabilitySensor</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Getter for task acceptability sensors (sensors that derive the type: `icua.agent.TaskAcceptabilitySensor`).</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[TaskAcceptabilitySensor]: the sensors.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sensors</span><span class="p">(</span><span class="n">oftype</span><span class="o">=</span><span class="n">TaskAcceptabilitySensor</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">guidance_actuators</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">GuidanceActuator</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Getter for guidance actuators (actuators that derive the type: `icua.agent.GuidanceActuator`).</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[GuidanceActuator]: the GuidanceActuator.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">candidates</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_actuators</span><span class="p">(</span><span class="n">oftype</span><span class="o">=</span><span class="n">GuidanceActuator</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">candidates</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Missing required actuator of type: `</span><span class="si">{</span><span class="n">GuidanceActuator</span><span class="o">.</span><span class="vm">__qualname__</span><span class="si">}</span><span class="s2">`&quot;</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">candidates</span>

    <span class="k">def</span> <span class="nf">_log_acceptebility</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">ok</span><span class="p">):</span>
        <span class="n">info</span> <span class="o">=</span> <span class="s2">&quot;task </span><span class="si">%20s</span><span class="s2"> </span><span class="si">%20s</span><span class="s2"> </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">z</span><span class="p">,</span> <span class="n">task</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;✘&quot;</span><span class="p">,</span> <span class="s2">&quot;✔&quot;</span><span class="p">][</span><span class="nb">int</span><span class="p">(</span><span class="n">ok</span><span class="p">)])</span>
        <span class="n">LOGGER</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="matbii.guidance.agent_default.DefaultGuidanceAgent.guidance_actuators" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">guidance_actuators</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">GuidanceActuator</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.guidance_actuators" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Getter for guidance actuators (actuators that derive the type: <code>icua.agent.GuidanceActuator</code>).</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[<span title="icua.agent.GuidanceActuator">GuidanceActuator</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[GuidanceActuator]: the GuidanceActuator.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="matbii.guidance.agent_default.DefaultGuidanceAgent.task_acceptability_sensors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">task_acceptability_sensors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">TaskAcceptabilitySensor</span><span class="p">]</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

<a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.task_acceptability_sensors" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Getter for task acceptability sensors (sensors that derive the type: <code>icua.agent.TaskAcceptabilitySensor</code>).</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>list[<span title="icua.agent.TaskAcceptabilitySensor">TaskAcceptabilitySensor</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[TaskAcceptabilitySensor]: the sensors.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
    </div>

</div>



<div class="doc doc-object doc-function">


<h3 id="matbii.guidance.agent_default.DefaultGuidanceAgent.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">sensors</span><span class="p">,</span> <span class="n">actuators</span><span class="p">,</span> <span class="n">break_ties</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">,</span> <span class="n">grace_period</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">counter_factual</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.__init__" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Constructor.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>sensors</code></td>
            <td>
                  <code>list[<span title="star_ray.agent.Sensor">Sensor</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list of sensors, this will typically be a list of <code>icua.agent.TaskAcceptabilitySensor</code>s. A <code>UserInputSensor</code> will always be added automatically.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>actuators</code></td>
            <td>
                  <code>list[<span title="star_ray.agent.Actuator">Actuator</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list of actuators, this will typically contain actuators that are capable of providing visual feedback to a user, see e.g. <code>icua.agent.GuidanceActuator</code> and its concrete implementations.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>break_ties</code></td>
            <td>
                  <code><span title="typing.Literal">Literal</span>[&#39;random&#39;, &#39;longest&#39;, &#39;since&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to break ties if guidance may be shown on multiple tasks simultaneously. Defaults to "random". "random" will randomly break the tie, "longest" will choose the task that has been in failure for the longest, "since" will choose the task that has not had guidance shown for the longest.</p>
              </div>
            </td>
            <td>
                  <code>&#39;random&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>grace_period</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the time to wait (seconds) before guidance may be shown for a task after the last time guidance was shown on the task. Defaults to 3.0.</p>
              </div>
            </td>
            <td>
                  <code>3.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>counter_factual</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>whether guidance should be shown to the user, or whether it should just be logged.  This allows counter-factual experiments to be run, we can track when guidance would have been shown, and compare the when it was actually shown (in a different run). Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>kwargs</code></td>
            <td>
                  <code>dict[str, <span title="typing.Any">Any</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional optional keyword arguments.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>matbii\guidance\agent_default.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">sensors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Sensor</span><span class="p">],</span>
    <span class="n">actuators</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Actuator</span><span class="p">],</span>
    <span class="n">break_ties</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;random&quot;</span><span class="p">,</span> <span class="s2">&quot;longest&quot;</span><span class="p">,</span> <span class="s2">&quot;since&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;random&quot;</span><span class="p">,</span>
    <span class="n">grace_period</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">3.0</span><span class="p">,</span>
    <span class="n">counter_factual</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructor.</span>

<span class="sd">    Args:</span>
<span class="sd">        sensors (list[Sensor]): list of sensors, this will typically be a list of `icua.agent.TaskAcceptabilitySensor`s. A `UserInputSensor` will always be added automatically.</span>
<span class="sd">        actuators (list[Actuator]): list of actuators, this will typically contain actuators that are capable of providing visual feedback to a user, see e.g. `icua.agent.GuidanceActuator` and its concrete implementations.</span>
<span class="sd">        break_ties (Literal[&quot;random&quot;, &quot;longest&quot;, &quot;since&quot;], optional): how to break ties if guidance may be shown on multiple tasks simultaneously. Defaults to &quot;random&quot;. &quot;random&quot; will randomly break the tie, &quot;longest&quot; will choose the task that has been in failure for the longest, &quot;since&quot; will choose the task that has not had guidance shown for the longest.</span>
<span class="sd">        grace_period (float, optional): the time to wait (seconds) before guidance may be shown for a task after the last time guidance was shown on the task. Defaults to 3.0.</span>
<span class="sd">        counter_factual (bool, optional): whether guidance should be shown to the user, or whether it should just be logged.  This allows counter-factual experiments to be run, we can track when guidance would have been shown, and compare the when it was actually shown (in a different run). Defaults to False.</span>
<span class="sd">        kwargs (dict[str,Any]): Additional optional keyword arguments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">sensors</span><span class="p">,</span> <span class="n">actuators</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># this agent is tracking the following tasks (based on the provided sensors)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_tracking_tasks</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">task_name</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_acceptability_sensors</span><span class="p">]</span>
    <span class="c1"># time since tasks went into an unacceptable state</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_task_unacceptable_start</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># time since tasks become inactive</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_task_inactive_start</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># TODO track the time since user input (gaze) has been provided, we can trigger an error if this is too long</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_missing_gaze_since</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># guidance shown on task?</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on_task</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># time since guidance was shown for each task (for grace period)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_last</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># method to use to break ties when more than one task meets the guidance criteria</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_break_ties</span> <span class="o">=</span> <span class="n">break_ties</span>  <span class="c1"># (&quot;random&quot;, &quot;longest&quot;, &quot;since&quot;)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_break_ties</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;random&quot;</span><span class="p">,</span> <span class="s2">&quot;longest&quot;</span><span class="p">,</span> <span class="s2">&quot;since&quot;</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid argument: `break_ties` </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_break_ties</span><span class="si">}</span><span class="s2"> must be one of </span><span class="si">{</span><span class="n">DefaultGuidanceAgent</span><span class="o">.</span><span class="n">BREAK_TIES</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="c1"># time to wait before showing guidance again on a task (can be zero)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_grace_period</span> <span class="o">=</span> <span class="n">grace_period</span>  <span class="c1"># TODO</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grace_period</span> <span class="o">&lt;</span> <span class="mf">0.0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Invalid argument: `grace_period` </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_grace_period</span><span class="si">}</span><span class="s2"> must be &gt; 0 &quot;</span>
        <span class="p">)</span>
    <span class="c1"># whether to actually display guidance, or just trigger a guidance event</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_counter_factual</span> <span class="o">=</span> <span class="n">counter_factual</span>  <span class="c1"># TODO</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.guidance.agent_default.DefaultGuidanceAgent.break_guidance_tie" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">break_guidance_tie</span><span class="p">(</span><span class="n">tasks</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;random&#39;</span><span class="p">)</span></code>

<a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.break_guidance_tie" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Break a tie on tasks that all met the criteria for displaying guiance.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>tasks</code></td>
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>tasks to break the tie, one of which will be returned.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>method</code></td>
            <td>
                  <code><span title="typing.Literal">Literal</span>[&#39;random&#39;, &#39;longest&#39;, &#39;since&#39;]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>how to break ties if guidance may be shown on multiple tasks simultaneously. Defaults to "random". "random" will randomly break the tie, "longest" will choose the task that has been in failure for the longest, "since" will choose the task that has not had guidance shown for the longest.</p>
              </div>
            </td>
            <td>
                  <code>&#39;random&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the chosen task.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>matbii\guidance\agent_default.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">break_guidance_tie</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">tasks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">method</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;random&quot;</span><span class="p">,</span> <span class="s2">&quot;longest&quot;</span><span class="p">,</span> <span class="s2">&quot;since&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;random&quot;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Break a tie on tasks that all met the criteria for displaying guiance.</span>

<span class="sd">    Args:</span>
<span class="sd">        tasks (list[str]): tasks to break the tie, one of which will be returned.</span>
<span class="sd">        method (Literal[&quot;random&quot;, &quot;longest&quot;, &quot;since&quot;], optional): how to break ties if guidance may be shown on multiple tasks simultaneously. Defaults to &quot;random&quot;. &quot;random&quot; will randomly break the tie, &quot;longest&quot; will choose the task that has been in failure for the longest, &quot;since&quot; will choose the task that has not had guidance shown for the longest.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: the chosen task.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">tasks</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span>
    <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;random&quot;</span><span class="p">:</span>
        <span class="c1"># randomly break the tie</span>
        <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">tasks</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;longest&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span>
            <span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_task_unacceptable_start</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">tasks</span><span class="p">],</span>
            <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
        <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="c1"># choose the one longest in failure</span>
    <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s2">&quot;since&quot;</span><span class="p">:</span>
        <span class="c1"># choose the one with with the longest time since guidance was last shown</span>
        <span class="k">return</span> <span class="nb">max</span><span class="p">(</span>
            <span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_last</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">tasks</span><span class="p">],</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unknown guidance tie break method: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_break_ties</span><span class="si">}</span><span class="s2">, must be one of </span><span class="si">{</span><span class="n">DefaultGuidanceAgent</span><span class="o">.</span><span class="n">BREAK_TIES</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.guidance.agent_default.DefaultGuidanceAgent.hide_guidance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">hide_guidance</span><span class="p">(</span><span class="n">task</span><span class="p">)</span></code>

<a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.hide_guidance" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Hide guidance for a given task.</p>
<p>If overriding you must call super() to ensure consistent behaviour.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>task</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the task to hide guidance for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>matbii\guidance\agent_default.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">hide_guidance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Hide guidance for a given task.</span>

<span class="sd">    If overriding you must call super() to ensure consistent behaviour.</span>

<span class="sd">    Args:</span>
<span class="sd">        task (str): the task to hide guidance for.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># TODO trigger event here! this will be used in post analysis, ensure that counterfactual guidance is also a thing!</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on_task</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">actuator</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">guidance_actuators</span><span class="p">:</span>
        <span class="n">actuator</span><span class="o">.</span><span class="n">hide_guidance</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="n">task</span><span class="p">)</span>
    <span class="c1"># update the last time guidance was shown for the given task (for the grace period check)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_last</span><span class="p">[</span><span class="n">task</span><span class="p">]</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="matbii.guidance.agent_default.DefaultGuidanceAgent.show_guidance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">show_guidance</span><span class="p">(</span><span class="n">task</span><span class="p">)</span></code>

<a href="#matbii.guidance.agent_default.DefaultGuidanceAgent.show_guidance" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Show guidance for a given task.</p>
<p>If overriding you must call super() to ensure consistent behaviour.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>task</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>the task to show guidance for.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>matbii\guidance\agent_default.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">show_guidance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Show guidance for a given task.</span>

<span class="sd">    If overriding you must call super() to ensure consistent behaviour.</span>

<span class="sd">    Args:</span>
<span class="sd">        task (str): the task to show guidance for.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_guidance_on_task</span> <span class="o">=</span> <span class="n">task</span>
    <span class="k">for</span> <span class="n">actuator</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">guidance_actuators</span><span class="p">:</span>
        <span class="n">actuator</span><span class="o">.</span><span class="n">show_guidance</span><span class="p">(</span><span class="n">task</span><span class="o">=</span><span class="n">task</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../agent_base/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Agent base">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Agent base
              </div>
            </div>
          </a>
        
        
          
          <a href="../sensor_resource_management/" class="md-footer__link md-footer__link--next" aria-label="Next: Sensor resource management">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Sensor resource management
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "navigation.footer", "navigation.expand", "navigation.tabs", "navigation.indexes"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>